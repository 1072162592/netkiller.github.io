<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4. WebDav</title><link rel="stylesheet" href="/docbook.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="Netkiller Version 手札" /><link rel="up" href="ch02.html" title="第 2 章 Invoking the Server" /><link rel="prev" href="ch02s03.html" title="3. hooks" /><link rel="next" href="ch03.html" title="第 3 章 repository 管理" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. WebDav</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s03.html">上一页</a> </td><th width="60%" align="center">第 2 章 Invoking the Server</th><td width="20%" align="right"> <a accesskey="n" href="ch03.html">下一页</a></td></tr></table><hr /></div><div class="section" title="4. WebDav"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1447571"></a>4. WebDav</h2></div></div></div>
			
			<p>Apache SVN</p>
			<span class="command"><strong>$ sudo apt-get install libapache2-svn</strong></span>
			<pre class="screen">
netkiller@neo:/etc/apache2$ sudo apt-get install libapache2-svn
			</pre>
			<p>vhost</p>
			<pre class="screen">
			
&lt;VirtualHost *&gt;
        ServerName svn.netkiller.8800.org
        DocumentRoot /var/svn

      &lt;Location /&gt;
                DAV svn
                SVNPath /var/svn
                AuthType Basic
                AuthName "Subversion Repository"
                AuthUserFile /etc/apache2/svn.passwd
                &lt;LimitExcept GET PROPFIND OPTIONS REPORT&gt;
                        Require valid-user
                &lt;/LimitExcept&gt;
        &lt;/Location&gt;
&lt;/VirtualHost&gt;
			
			</pre>
			<p>建立密码文件</p>
			<p>建立第一个用户需要加-c参数</p>
			<pre class="screen">
netkiller@neo:/etc/apache2$ sudo htpasswd2 -c /etc/apache2/svn.passwd svn
New password:
Re-type new password:
Adding password for user svn
			</pre>
			<p>输入两次密码</p>
			<p>建立其他用户</p>
			<pre class="screen">
sudo htpasswd2 /etc/apache2/svn.passwd otheruser
			</pre>
			<div class="section" title="4.1. davfs2 - mount a WebDAV resource as a regular file system"><div class="titlepage"><div><div><h3 class="title"><a id="id1447626"></a>4.1. davfs2 - mount a WebDAV resource as a regular file system</h3></div></div></div>
				
				<p>install</p>
				<pre class="screen">
$ sudo apt-get install davfs2
				</pre>
				<p>mount a webdav to directory</p>
				<pre class="screen">
$ sudo mount.davfs https://opensvn.csie.org/netkiller /mnt/davfs/
Please enter the username to authenticate with server
https://opensvn.csie.org/netkiller or hit enter for none.
Username: svn
Please enter the password to authenticate user svn with server
https://opensvn.csie.org/netkiller or hit enter for none.
Password:
mount.davfs: the server certificate is not trusted
  issuer:      CSIE.org, CSIE.org, Taipei, Taiwan, TW
  subject:     CSIE.org, CSIE.org, Taipei, TW
  identity:    *.csie.org
  fingerprint: e6:05:eb:fb:69:5d:25:4e:11:3c:83:e8:7c:44:ee:bf:a9:85:a3:64
You only should accept this certificate, if you can
verify the fingerprint! The server might be faked
or there might be a man-in-the-middle-attack.
Accept certificate for this session? [y,N] y			
				</pre>
				<p>test</p>
				<pre class="screen">
$ ls davfs/
branches  lost+found  tags  trunk			
				</pre>
			</div>
		</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s03.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">3. hooks </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 3 章 repository 管理</td></tr></table></div></body></html>
