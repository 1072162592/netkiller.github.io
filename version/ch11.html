<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 11 章 Setting up a git server</title><link rel="stylesheet" href="/docbook.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="Netkiller Version 手札" /><link rel="up" href="git.html" title="部分 II. Git – Fast Version Control System" /><link rel="prev" href="ch10.html" title="第 10 章 Cloning and Creating a Patch" /><link rel="next" href="ch12.html" title="第 12 章 Manager remote" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 11 章 Setting up a git server</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10.html">上一页</a> </td><th width="60%" align="center">部分 II. Git – Fast Version Control System</th><td width="20%" align="right"> <a accesskey="n" href="ch12.html">下一页</a></td></tr></table><hr /></div><div class="chapter" title="第 11 章 Setting up a git server"><div class="titlepage"><div><div><h2 class="title"><a id="id1448409"></a>第 11 章 Setting up a git server</h2></div></div></div>
		
		<p>First we need to setup a user with a home folder. We will store all the repositories in this users home folder.</p>
		<pre class="screen">
		
sudo adduser git	
		
		</pre>
		<p>Rather than giving out the password to the git user account use ssh keys to login so that you can have multiple developers connect securely and easily.</p>
		<p>Next we will make a repository. For this example we will work with a repository called example. Login as the user git and add the repository.</p>
		<p>login to remote server</p>
		<pre class="screen">
		
ssh git@REMOTE_SERVER		
		
		</pre>
		<p>once logged in</p>
		<pre class="screen">
		
sudo mkdir example.git
cd example.git
sudo git --bare init
Initialized empty Git repository in /home/git/example.git/
		
		</pre>
		<p>That’s all there is to creating a repository. Notice we named our folder with a .git extension.</p>
		<p>Also notice the ‘bare’ option. By default the git repository assumes that you’ll be using it as your working directory, so git stores the actual bare repository files in a .git directory alongside all the project files. Since we are setting up a remote server we don’t need copies of the files on the filesystem. Instead, all we need are the deltas and binary objects of the repository. By setting ‘bare’ we tell git not to store the current files of the repository only the diffs. This is optional as you may have need to be able to browse the files on your remote server.</p>
		<p>Finally all you need to do is add your files to the remote repository. We will assume you don’t have any files yet.</p>
		<pre class="screen">
		
mkdir example
cd example
git init
touch README
git add README
git commit -m 'first commit'
git remote add origin git@REMOTE_SERVER:example.git
git push origin master		
		
		</pre>
		<p>replace REMOTE_SERVER with your server name or IP</p>
		
	</div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="git.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch12.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 10 章 Cloning and Creating a Patch </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 第 12 章 Manager remote</td></tr></table></div></body></html>
