<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Netkiller Architect 手札</title><link rel="stylesheet" type="text/css" href="/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="description" content="我的系列文档 Netkiller Architect 手札 Netkiller Developer 手札 Netkiller PHP 手札 Netkiller Python 手札 Netkiller Testing 手札 Netkiller Cryptography 手札 Netkiller Linux 手札 Netkiller CentOS 手札 Netkiller FreeBSD 手札 Netkiller Security 手札 Netkiller Version 手札 Netkiller Web 手札 Netkiller Monitoring 手札 Netkiller Storage 手札 Netkiller Mail 手札 Netkiller Shell 手札 Netkiller Network 手札 Netkiller Database 手札 Netkiller PostgreSQL 手札 Netkiller MySQL 手札 Netkiller NoSQL 手札 Netkiller LDAP 手札 Netkiller Cisco IOS 手札 Netkiller H3C 手札 Netkiller Multimedia 手札 Netkiller Docbook 手札 Netkiller 开源软件 手札" /><link rel="home" href="index.html" title="Netkiller Architect 手札" /><link rel="next" href="preface.html" title="自述" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Netkiller Architect 手札</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="preface.html">下一页</a></td></tr></table><hr /></div><table xmlns="" width="100%" border="0"><tr><td align="left"><a href="http://netkiller.github.io/">Home</a> |
        <a href="http://netkiller.sourceforge.net/">Mirror</a> |
        <a href="/search.html">Search</a></td><td><a href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
        <a href="http://my.oschina.net/neochen/">OSChina 博客</a> |
        <a href="http://rline.blog.51cto.com/">51CTO 博客</a></td><td><form id="searchbox_008589143145807374698:f5uprauilyy" action="/search.html"><input type="hidden" name="cx" value="008589143145807374698:f5uprauilyy" /><input type="hidden" name="cof" value="FORID:11" /><input name="q" type="text" size="25" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; " /><input type="submit" name="sa" value="Search" /><input name="siteurl" type="hidden" value="http://netkiller.sourceforge.net/" /></form><script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_008589143145807374698%3Af5uprauilyy"></script></td></tr></table><div xml:lang="zh-cn" class="book" lang="zh-cn"><div class="titlepage"><div><div><h1 class="title"><a id="idp61837536"></a>Netkiller Architect 手札</h1></div><div><h2 class="subtitle">Multi-dimension Architecture Design &amp; Implementation</h2></div><div><div class="authorgroup">
    
	<div class="author"><h3 class="author"><span class="honorific">Mr</span>. <span class="firstname">Neo</span> <span class="othername"></span> <span class="surname">Chan</span>, <span class="lineage">陈景峰(BG7NYT)</span></h3><div class="affiliation">
			<div class="address"><p><br />
				<span class="country">中国</span><span class="state">广东省</span><span class="city">深圳市</span><span class="street">龙华新区民治街道溪山美地</span><br />
				<span class="postcode">518131</span><br />
				<span class="phone">+86 13113668890</span><br />
				<span class="fax">+86 755 29812080</span><br />
				<code class="email">&lt;<a class="email" href="mailto:netkiller@msn.com">netkiller@msn.com</a>&gt;</code><br />
			</p></div>

		</div></div>



	</div></div><div><p class="releaseinfo">文档尚未完成，请勿转载！</p></div><div><p class="copyright">版权 © 2008, 2009, 2010, 2011, 2012, 2013 Copyright Editor Groups, All Rights Reserved</p></div><div><div class="legalnotice"><a id="legalnotice"></a>
	<p class="legalnotice-title"><strong>版权声明</strong></p>
	<p>转载请与作者联系，转载时请务必标明文章原始出处和作者信息及本声明。</p>
	<table border="0" summary="Simple list" class="simplelist"><tr><td>
		<a class="ulink" href="http://creativecommons.org/licenses/by/3.0/" target="_top">
			<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="180"><tr><td><img src="/images/by-nc-sa.png" width="180" /></td></tr></table></div>
		</a>
		</td><td>
			<table border="0" summary="Simple list" class="simplelist"><tr><td>
					文档出处:
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.github.io/" target="_top">http://netkiller.github.io</a>
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.sourceforge.net/" target="_top">http://netkiller.sourceforge.net</a>
				</td></tr></table>
		</td></tr></table>
	<p></p>
</div></div><div><p class="pubdate">$Date: 2013-02-04 09:33:18 +0800 (Mon, 04 Feb 2013) $</p></div><div><div class="abstract"><a id="abstract"></a><p class="title"><strong>我的系列文档</strong></p>
	
	<p>
		</p><table border="0" summary="Simple list" class="simplelist"><tr><td>
				<a class="ulink" href="../architect/index.html" target="_top">Netkiller Architect 手札</a>
			</td><td>
				<a class="ulink" href="../developer/index.html" target="_top">Netkiller Developer 手札</a>
			</td><td>
				<a class="ulink" href="../php/index.html" target="_top">Netkiller PHP 手札</a>
			</td><td>
				<a class="ulink" href="../python/index.html" target="_top">Netkiller Python 手札</a>
			</td><td>
				<a class="ulink" href="../testing/index.html" target="_top">Netkiller Testing 手札</a>
			</td><td>
				<a class="ulink" href="../cryptography/index.html" target="_top">Netkiller Cryptography 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../linux/index.html" target="_top">Netkiller Linux 手札</a>
			</td><td>
				<a class="ulink" href="../centos/index.html" target="_top">Netkiller CentOS 手札</a>
			</td><td>
				<a class="ulink" href="../freebsd/index.html" target="_top">Netkiller FreeBSD 手札</a>
			</td><td>
				<a class="ulink" href="../security/index.html" target="_top">Netkiller Security 手札</a>
			</td><td>
				<a class="ulink" href="../version/index.html" target="_top">Netkiller Version 手札</a>
			</td><td>
				<a class="ulink" href="../www/index.html" target="_top">Netkiller Web 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../monitoring/index.html" target="_top">Netkiller Monitoring 手札</a>
			</td><td>
				<a class="ulink" href="../storage/index.html" target="_top">Netkiller Storage 手札</a>
			</td><td>
				<a class="ulink" href="../mail/index.html" target="_top">Netkiller Mail 手札</a>
			</td><td>
				<a class="ulink" href="../shell/index.html" target="_top">Netkiller Shell 手札</a>
			</td><td>
				<a class="ulink" href="../network/index.html" target="_top">Netkiller Network 手札</a>
			</td><td>
				<a class="ulink" href="../database/index.html" target="_top">Netkiller Database 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../postgresql/index.html" target="_top">Netkiller PostgreSQL 手札</a>
			</td><td>
				<a class="ulink" href="../mysql/index.html" target="_top">Netkiller MySQL 手札</a>
			</td><td>
				<a class="ulink" href="../nosql/index.html" target="_top">Netkiller NoSQL 手札</a>
			</td><td>
				<a class="ulink" href="../ldap/index.html" target="_top">Netkiller LDAP 手札</a>
			</td><td>
				<a class="ulink" href="../cisco/index.html" target="_top">Netkiller Cisco IOS 手札</a>
			</td><td>
				<a class="ulink" href="../h3c/index.html" target="_top">Netkiller H3C 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../multimedia/index.html" target="_top">Netkiller Multimedia 手札</a>
			</td><td>
				<a class="ulink" href="../docbook/index.html" target="_top">Netkiller Docbook 手札</a>
			</td><td>
				<a class="ulink" href="../oss/index.html" target="_top">Netkiller 开源软件 手札</a>
			</td><td> </td><td> </td><td> </td></tr></table><p>
	</p>

</div></div></div><hr /></div><div class="dedication"><div class="titlepage"><div><div><h1 class="title"><a id="dedication"></a></h1></div></div></div>
	
	<p>您可以使用<a class="ulink" href="ibook.epub" target="_top">iBook</a>阅读当前文档</p>
	<p>QQ群：128659835 请注明“读者”</p>

</div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="preface"><a href="preface.html">1. 自述</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#preface.contents">1.1. 系列文档</a></span></dt><dt><span class="section"><a href="author.html">1.2. 作者简介</a></span></dt><dt><span class="section"><a href="reader.html">1.3. 写给读者</a></span></dt></dl></dd><dt><span class="part"><a href="architecture/index.html">I. Multi-dimension Architecture</a></span></dt><dd><dl><dt><span class="chapter"><a href="architecture/overview.html">1. Architecture Overview</a></span></dt><dd><dl><dt><span class="section"><a href="architecture/overview.html#cdn">1.1. CDN (Content Delivery Network)</a></span></dt></dl></dd><dt><span class="chapter"><a href="architecture/enterprise.html">2. Enterprise Architecture</a></span></dt><dd><dl><dt><span class="section"><a href="architecture/enterprise.html#wms">2.1. 仓库管理系统（warehouse management system）</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="system/index.html">3. Systems architecture(系统架构)</a></span></dt><dd><dl><dt><span class="section"><a href="system/index.html#cluster">3.1. 集群(Cluster)</a></span></dt><dd><dl><dt><span class="section"><a href="system/index.html#idp62030928">3.1.1. 负载均衡</a></span></dt><dd><dl><dt><span class="section"><a href="system/index.html#idp62031792">3.1.1.1. DNS负载均衡</a></span></dt><dt><span class="section"><a href="system/index.html#idp62043168">3.1.1.2. 软件四层交换负载均衡</a></span></dt><dt><span class="section"><a href="system/index.html#idp62049888">3.1.1.3. 应用层负载均衡</a></span></dt></dl></dd><dt><span class="section"><a href="system/index.html#idp62052832">3.1.2. 高可用性集群</a></span></dt><dt><span class="section"><a href="system/index.html#idp62056176">3.1.3. 负载均衡设备</a></span></dt><dt><span class="section"><a href="system/index.html#idp62061232">3.1.4. 会话保持</a></span></dt><dt><span class="section"><a href="system/index.html#idp62062096">3.1.5. 健康状态检查</a></span></dt></dl></dd><dt><span class="section"><a href="system/cache.html">3.2. 缓存技术</a></span></dt><dd><dl><dt><span class="section"><a href="system/cache.html#idp62070992">3.2.1. 浏览器缓存</a></span></dt><dd><dl><dt><span class="section"><a href="system/cache.html#idp62071248">3.2.1.1. Expires</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62076896">3.2.1.2. If-Modified-Since / Last-Modified</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62080240">3.2.1.3. ETag / If-None-Match</a></span></dt></dl></dd><dt><span class="section"><a href="system/cache.html#idp62083072">3.2.2. CDN/逆向代理缓存</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62093872">3.2.3. 负载均衡设备</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62095856">3.2.4. WEB服务器缓存</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62097264">3.2.5. 应用程序缓存</a></span></dt><dt><span class="section"><a href="system/cache.html#idp62099648">3.2.6. 数据库缓存</a></span></dt></dl></dd><dt><span class="section"><a href="system/static.html">3.3. 静态化</a></span></dt><dd><dl><dt><span class="section"><a href="system/static.html#idp62106448">3.3.1. 生成方式</a></span></dt><dt><span class="section"><a href="system/static.html#idp62108752">3.3.2. 抓取方式</a></span></dt><dt><span class="section"><a href="system/static.html#idp62112624">3.3.3. 伪静态化</a></span></dt><dt><span class="section"><a href="system/static.html#idp62118896">3.3.4. 混合方式</a></span></dt><dt><span class="section"><a href="system/static.html#idp62121392">3.3.5. 静态化中的动态内容</a></span></dt></dl></dd><dt><span class="section"><a href="system/media.html">3.4. 多媒体数据分离</a></span></dt><dd><dl><dt><span class="section"><a href="system/media.html#idp62126672">3.4.1. 图片服务器分离</a></span></dt><dt><span class="section"><a href="system/media.html#idp62131888">3.4.2. 目录层次规划</a></span></dt><dt><span class="section"><a href="system/media.html#idp62132144">3.4.3. 多域名访问</a></span></dt></dl></dd><dt><span class="section"><a href="system/compress.html">3.5. 压缩数据传输</a></span></dt><dt><span class="section"><a href="system/ntp.html">3.6. 时间同步</a></span></dt><dt><span class="section"><a href="system/email.html">3.7. 邮件系统</a></span></dt><dd><dl><dt><span class="section"><a href="system/email.html#idp62154784">3.7.1. Mailing List</a></span></dt></dl></dd><dt><span class="section"><a href="system/logs.html">3.8. 日志集中管理</a></span></dt><dd><dl><dt><span class="section"><a href="system/logs.html#idp62161520">3.8.1. 系统日志</a></span></dt><dt><span class="section"><a href="system/logs.html#idp62162672">3.8.2. 应用程序日志</a></span></dt></dl></dd><dt><span class="section"><a href="system/ssl.html">3.9. SSL</a></span></dt><dt><span class="section"><a href="system/storage.html">3.10. Storage 存储</a></span></dt><dd><dl><dt><span class="section"><a href="system/storage.html#idp62180128">3.10.1. 存储种类</a></span></dt><dd><dl><dt><span class="section"><a href="system/storage.html#idp62181328">3.10.1.1. Direct Attached Storage</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62182704">3.10.1.2. Network-attached storage</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62184608">3.10.1.3. Storage area network</a></span></dt></dl></dd><dt><span class="section"><a href="system/storage.html#idp62192032">3.10.2. RAID</a></span></dt><dd><dl><dt><span class="section"><a href="system/storage.html#idp62192848">3.10.2.1. 缓存服务器</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62194768">3.10.2.2. Web 服务器</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62196496">3.10.2.3. 数据库</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62199408">3.10.2.4. 数据备份</a></span></dt></dl></dd><dt><span class="section"><a href="system/storage.html#idp62201904">3.10.3. File System 文件系统</a></span></dt><dd><dl><dt><span class="section"><a href="system/storage.html#idp62203536">3.10.3.1. Distributed File System(DFS)</a></span></dt></dl></dd><dt><span class="section"><a href="system/storage.html#idp62205648">3.10.4. 数据访问协议</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62206944">3.10.5. 数据管理</a></span></dt><dd><dl><dt><span class="section"><a href="system/storage.html#idp62207760">3.10.5.1. Share 共享</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62208624">3.10.5.2. Mirror 远程镜像同步</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62209680">3.10.5.3. 压缩与重复数据消除</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62211472">3.10.5.4. Backup 备份与恢复</a></span></dt><dt><span class="section"><a href="system/storage.html#idp62212752">3.10.5.5. 故障报告</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="database/index.html">II. Database Modeling Design</a></span></dt><dd><dl><dt><span class="chapter"><a href="database/rdbms.html">4. MySQL 数据库设计</a></span></dt><dd><dl><dt><span class="section"><a href="database/rdbms.html#data.dictionary">4.1. 数据字典</a></span></dt><dt><span class="section"><a href="database/user.html">4.2. 用户帐号表</a></span></dt><dt><span class="section"><a href="database/category.html">4.3. 分类表设计</a></span></dt><dd><dl><dt><span class="section"><a href="database/category.html#idp62227168">4.3.1. 树形分类表</a></span></dt><dt><span class="section"><a href="database/category.html#idp62229984">4.3.2. 多对多分类</a></span></dt><dt><span class="section"><a href="database/category.html#idp62232304">4.3.3. 快速检索子分类设计</a></span></dt><dt><span class="section"><a href="database/category.html#idp62232560">4.3.4. 计算节点数量</a></span></dt><dt><span class="section"><a href="database/category.html#idp62244288">4.3.5. Example</a></span></dt></dl></dd><dt><span class="section"><a href="database/article.html">4.4. 文章表设计</a></span></dt><dd><dl><dt><span class="section"><a href="database/article.html#idp62252032">4.4.1. 分区表设计</a></span></dt><dt><span class="section"><a href="database/article.html#idp62255360">4.4.2. Title性能优化</a></span></dt></dl></dd><dt><span class="section"><a href="database/feedback.html">4.5. 评论表</a></span></dt><dt><span class="section"><a href="database/count.html">4.6. 记录点击率，阅读次数，及评分表</a></span></dt><dt><span class="section"><a href="database/product.html">4.7. 产品属性表</a></span></dt><dd><dl><dt><span class="section"><a href="database/product.html#idp62262560">4.7.1. 简单实现</a></span></dt><dt><span class="section"><a href="database/product.html#idp62264816">4.7.2. 实现属性组管理</a></span></dt><dt><span class="section"><a href="database/product.html#idp62268080">4.7.3. 可编辑属表</a></span></dt></dl></dd><dt><span class="section"><a href="database/product.store.html">4.8. 商品库存表</a></span></dt><dt><span class="section"><a href="database/i18n.html">4.9. 国际化语言表</a></span></dt><dt><span class="section"><a href="database/workflow.html">4.10. Workflow</a></span></dt><dt><span class="section"><a href="database/version.html">4.11. 内容版本控制</a></span></dt><dt><span class="section"><a href="database/logging.html">4.12. logging 日志表的设计</a></span></dt><dt><span class="section"><a href="database/uuid.html">4.13. uuid 替代传统序列 id</a></span></dt><dt><span class="section"><a href="database/config.html">4.14. 动态配置表</a></span></dt><dt><span class="section"><a href="database/captcha.html">4.15. 验证码</a></span></dt><dt><span class="section"><a href="database/mobile.html">4.16. 手机归属地数据库表</a></span></dt></dl></dd><dt><span class="chapter"><a href="database/ordbms.html">5. PostgreSQL 数据库设计</a></span></dt><dd><dl><dt><span class="section"><a href="database/ordbms.html#city">5.1. 国家地区表的设计</a></span></dt><dt><span class="section"><a href="database/discuss.html">5.2. 话题讨论表的设计</a></span></dt><dt><span class="section"><a href="database/account.html">5.3. 账户表/余额表/消费储蓄表</a></span></dt></dl></dd><dt><span class="chapter"><a href="database/sharding.html">6. Sharding</a></span></dt><dd><dl><dt><span class="section"><a href="database/sharding.html#sharding.horizontal">6.1. horizontal</a></span></dt><dt><span class="section"><a href="database/sharding.vertical.html">6.2. vertical</a></span></dt><dt><span class="section"><a href="database/sharding.news.html">6.3. 新闻数据库分表案例</a></span></dt></dl></dd><dt><span class="chapter"><a href="database/nosql.html">7. NoSQL 数据库设计</a></span></dt><dd><dl><dt><span class="section"><a href="database/nosql.html#cassandra">7.1. Cassandra</a></span></dt><dd><dl><dt><span class="section"><a href="database/nosql.html#idp62364096">7.1.1. User And Profile</a></span></dt><dt><span class="section"><a href="database/nosql.html#idp62367424">7.1.2. Category</a></span></dt><dt><span class="section"><a href="database/nosql.html#idp62369344">7.1.3. Article</a></span></dt><dt><span class="section"><a href="database/nosql.html#idp62371296">7.1.4. Product and ProductAttribute</a></span></dt><dt><span class="section"><a href="database/nosql.html#idp62375808">7.1.5. Address</a></span></dt><dt><span class="section"><a href="database/nosql.html#idp62377824">7.1.6. 练习</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="database/data.html">8. 数据属性</a></span></dt><dd><dl><dt><span class="section"><a href="database/data.html#data.status">8.1. 常用状态</a></span></dt><dt><span class="section"><a href="database/data.shoe.html">8.2. 商品属性</a></span></dt><dd><dl><dt><span class="section"><a href="database/data.shoe.html#idp62383424">8.2.1. 鞋</a></span></dt><dt><span class="section"><a href="database/data.shoe.html#idp62386752">8.2.2. 裤子</a></span></dt><dt><span class="section"><a href="database/data.shoe.html#idp62388016">8.2.3. 服装</a></span></dt><dt><span class="section"><a href="database/data.shoe.html#idp62389808">8.2.4. 内衣</a></span></dt><dt><span class="section"><a href="database/data.shoe.html#idp62392384">8.2.5. 隐形眼镜</a></span></dt><dt><span class="section"><a href="database/data.shoe.html#idp62393984">8.2.6. 戒指</a></span></dt></dl></dd><dt><span class="section"><a href="database/data.mobile.html">8.3. 手机号码分配</a></span></dt><dt><span class="section"><a href="database/data.id.html">8.4. 身份证</a></span></dt></dl></dd><dt><span class="chapter"><a href="database/parallel.html">9. 数据库并行访问控制</a></span></dt><dd><dl><dt><span class="section"><a href="database/parallel.html#show">9.1. 防止并行显示</a></span></dt></dl></dd><dt><span class="chapter"><a href="database/security.html">10. 数据库安全</a></span></dt><dd><dl><dt><span class="section"><a href="database/security.html#column">10.1. 保护表字段</a></span></dt><dt><span class="section"><a href="database/time.html">10.2. 时间一致性</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="software/index.html">III. Software architecture (软件架构)</a></span></dt><dd><dl><dt><span class="chapter"><a href="software/project.html">11. Project</a></span></dt><dd><dl><dt><span class="section"><a href="software/project.html#opensource">11.1. 开源模式</a></span></dt><dt><span class="section"><a href="software/language.html">11.2. 开发语言及平台</a></span></dt><dd><dl><dt><span class="section"><a href="software/language.html#middleware">11.2.1. 分层架构</a></span></dt><dt><span class="section"><a href="software/language.html#web2.0">11.2.2. Web 2.0</a></span></dt><dt><span class="section"><a href="software/language.html#cloud">11.2.3. 云计算</a></span></dt><dt><span class="section"><a href="software/language.html#cross.platform">11.2.4. 跨平台</a></span></dt><dt><span class="section"><a href="software/language.html#script">11.2.5. 编译语言比脚本语言安全</a></span></dt><dt><span class="section"><a href="software/language.html#encapsulation">11.2.6. 封装重用</a></span></dt><dt><span class="section"><a href="software/language.html#utility">11.2.7. 相关的工具</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="software/pattern.html">12. Design pattern (设计模式)</a></span></dt><dd><dl><dt><span class="section"><a href="software/pattern.html#singleton">12.1. Singleton 单件模式</a></span></dt></dl></dd><dt><span class="chapter"><a href="software/aop.html">13. AOP（Aspect Oriented Programming)</a></span></dt><dt><span class="chapter"><a href="software/framework.html">14. Framework Design</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.html#framework.choice">14.1. 开发框架 Framework</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.html#idp62608384">14.1.1. HMVC</a></span></dt><dt><span class="section"><a href="software/framework.html#idp62612688">14.1.2. REST</a></span></dt><dt><span class="section"><a href="software/framework.html#idp62615184">14.1.3. SNA (Shared Nothing Architecture)</a></span></dt><dt><span class="section"><a href="software/framework.html#idp62615952">14.1.4. 其他</a></span></dt></dl></dd><dt><span class="section"><a href="software/mvc.html">14.2. MVC Framework Design (设计MVC框架)</a></span></dt><dd><dl><dt><span class="section"><a href="software/mvc.html#hmvc">14.2.1. HMVC Framework</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.rest.html">14.3. REST</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.rest.html#idp62625072">14.3.1. RESTful JSON API</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.soa.html">14.4. Service-oriented architecture (SOA)</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.soa.html#idp62628640">14.4.1. SOAP实现</a></span></dt><dt><span class="section"><a href="software/framework.soa.html#idp62639056">14.4.2. MQ 实现</a></span></dt></dl></dd><dt><span class="section"><a href="software/dispatcher.html">14.5. Dispatcher MVC核心分发器</a></span></dt><dd><dl><dt><span class="section"><a href="software/dispatcher.html#framework.url">14.5.1. URL设计</a></span></dt><dt><span class="section"><a href="software/dispatcher.html#action">14.5.2. Dispatcher 的实现方式</a></span></dt></dl></dd><dt><span class="section"><a href="software/plugin.html">14.6. Plugin &amp; Hook 设计与实现</a></span></dt><dd><dl><dt><span class="section"><a href="software/plugin.html#idp62668784">14.6.1. 插件管理平台</a></span></dt><dt><span class="section"><a href="software/plugin.html#idp62672608">14.6.2. 接口定义</a></span></dt><dt><span class="section"><a href="software/plugin.html#idp62670288">14.6.3. 插件</a></span></dt><dt><span class="section"><a href="software/plugin.html#idp62675600">14.6.4. 测试</a></span></dt></dl></dd><dt><span class="section"><a href="software/interface.html">14.7. Interface</a></span></dt><dd><dl><dt><span class="section"><a href="software/interface.html#interface.protocol">14.7.1. 访问接口协议</a></span></dt><dt><span class="section"><a href="software/interface.html#interface.session">14.7.2. 接口性能问题</a></span></dt><dt><span class="section"><a href="software/interface.html#interface.security">14.7.3. 接口安全问题</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.js.html">14.8. Javascript Framework</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.js.html#idp62699136">14.8.1. Minify JS</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.template.html">14.9. 模板(template)</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.template.html#idp62714864">14.9.1. HTML 页面优化</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.session.html">14.10. Session/Cookie</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.session.html#idp62717296">14.10.1. Session</a></span></dt><dt><span class="section"><a href="software/framework.session.html#session">14.10.2. Session 共享</a></span></dt><dt><span class="section"><a href="software/framework.session.html#idp62726624">14.10.3. Cookie</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.i18n.html">14.11. 国际化 Locale database。</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.i18n.html#unicode">14.11.1. Unicode</a></span></dt><dt><span class="section"><a href="software/framework.i18n.html#idp62752464">14.11.2. 繁简转换</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.database.html">14.12. 数据库访问</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.database.html#idp62760000">14.12.1. CRUD</a></span></dt><dt><span class="section"><a href="software/framework.database.html#idp62760816">14.12.2. Active Record</a></span></dt><dt><span class="section"><a href="software/framework.database.html#idp62761744">14.12.3. OR Mapping</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.cache.html">14.13. Cache</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.cache.html#idp62764480">14.13.1. 页面缓存</a></span></dt><dt><span class="section"><a href="software/framework.cache.html#idp62768480">14.13.2. 局部缓存</a></span></dt></dl></dd><dt><span class="section"><a href="software/framework.sso.html">14.14. Single sign-on (SSO) 单点登录</a></span></dt><dt><span class="section"><a href="software/framework.search.html">14.15. 搜索引擎</a></span></dt><dt><span class="section"><a href="software/sync.html">14.16. Synchronous/Asynchronous</a></span></dt><dt><span class="section"><a href="software/mq.html">14.17. Message Queuing</a></span></dt><dt><span class="section"><a href="software/framework.hash.html">14.18. Hash</a></span></dt><dt><span class="section"><a href="software/framework.sharding.html">14.19. Sharding 垂直/水平切割</a></span></dt><dd><dl><dt><span class="section"><a href="software/framework.sharding.html#idp62790288">14.19.1. 面向服务</a></span></dt><dt><span class="section"><a href="software/framework.sharding.html#idp62791088">14.19.2. 面向数据库</a></span></dt></dl></dd><dt><span class="section"><a href="software/app.logs.html">14.20. 日志系统</a></span></dt><dt><span class="section"><a href="software/cache.html">14.21. Cache</a></span></dt><dd><dl><dt><span class="section"><a href="software/cache.html#idp62795568">14.21.1. CDN (Content Delivery Network) 与反向代理</a></span></dt><dt><span class="section"><a href="software/cache.html#idp62803968">14.21.2. HTTP Cache</a></span></dt><dt><span class="section"><a href="software/cache.html#idp62809488">14.21.3. Cache 生存时间</a></span></dt></dl></dd><dt><span class="section"><a href="software/i18n.html">14.22. i18n 国际化</a></span></dt><dd><dl><dt><span class="section"><a href="software/i18n.html#idp62829280">14.22.1. 数组方式</a></span></dt><dt><span class="section"><a href="software/i18n.html#idp62832496">14.22.2. 数据库方式</a></span></dt><dt><span class="section"><a href="software/i18n.html#idp62837824">14.22.3. 文件文件</a></span></dt><dt><span class="section"><a href="software/i18n.html#idp62839776">14.22.4. Gettext</a></span></dt><dt><span class="section"><a href="software/i18n.html#idp62841520">14.22.5. 数据结构</a></span></dt></dl></dd><dt><span class="section"><a href="software/rss.html">14.23. RSS / ATom</a></span></dt><dd><dl><dt><span class="section"><a href="software/rss.html#idp62847456">14.23.1. Atom</a></span></dt></dl></dd><dt><span class="section"><a href="software/log.html">14.24. Logging 日志</a></span></dt><dd><dl><dt><span class="section"><a href="software/log.html#idp62850496">14.24.1. 日志的格式</a></span></dt><dt><span class="section"><a href="software/log.html#idp62851264">14.24.2. 日志存贮</a></span></dt><dt><span class="section"><a href="software/log.html#log4">14.24.3. Log4cpp/Log4j/Log2PHP</a></span></dt><dt><span class="section"><a href="software/log.html#idp62855168">14.24.4. Remote Syslog</a></span></dt></dl></dd><dt><span class="section"><a href="software/search.html">14.25. Search</a></span></dt><dd><dl><dt><span class="section"><a href="software/search.html#search.url">14.25.1. 搜索结果静态化</a></span></dt><dt><span class="section"><a href="software/search.html#search.seo">14.25.2. SEO Module</a></span></dt></dl></dd><dt><span class="section"><a href="software/debug.html">14.26. debug</a></span></dt><dt><span class="section"><a href="software/optimization.html">14.27. 性能优化</a></span></dt><dd><dl><dt><span class="section"><a href="software/optimization.html#idp62878576">14.27.1. 尽量使用单引号</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="software/defect.html">15. 信息安全</a></span></dt><dd><dl><dt><span class="section"><a href="software/defect.html#defect.csrf">15.1. CSRF（Cross-site request forgery）跨站请求伪造</a></span></dt><dt><span class="section"><a href="software/defect.session.html">15.2. Session 撰改演示</a></span></dt><dt><span class="section"><a href="software/defect.login.html">15.3. 用户注册与登录安全</a></span></dt><dt><span class="section"><a href="software/defect.dir.html">15.4. 目录文件与权限</a></span></dt><dd><dl><dt><span class="section"><a href="software/defect.dir.html#defect.owner">15.4.1. 读写权限</a></span></dt><dt><span class="section"><a href="software/defect.dir.html#idp62895616">15.4.2. 访问权限</a></span></dt></dl></dd><dt><span class="section"><a href="software/defect.password.html">15.5. 密码安全</a></span></dt><dt><span class="section"><a href="software/defect.sql.html">15.6. 注入检查</a></span></dt><dt><span class="section"><a href="software/defect.loop.html">15.7. 防止恶意刷新与重复提交</a></span></dt><dt><span class="section"><a href="software/defect.error.html">15.8. 屏蔽出错信息</a></span></dt><dd><dl><dt><span class="section"><a href="software/defect.error.html#idp62911728">15.8.1. 屏蔽php出错信息</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="testing/index.html">IV. Testing</a></span></dt><dd><dl><dt><span class="chapter"><a href="testing/test.html">16. Automatic Testing</a></span></dt><dd><dl><dt><span class="section"><a href="testing/test.html#test.cluster">16.1. Cluster Testing</a></span></dt><dt><span class="section"><a href="testing/test.static.html">16.2. 静态内容并发测试</a></span></dt><dt><span class="section"><a href="testing/test.dynamic.html">16.3. 动态内容测试</a></span></dt><dt><span class="section"><a href="testing/test.Logical.html">16.4. 业务逻辑并发能力</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="solution/index.html">V. 设计与解决方案</a></span></dt><dd><dl><dt><span class="chapter"><a href="solution/monitoring.html">17. Monitor solution</a></span></dt><dd><dl><dt><span class="section"><a href="solution/monitoring.html#monitoring.flow">17.1. 网络监控</a></span></dt><dd><dl><dt><span class="section"><a href="solution/monitoring.html#idp62939504">17.1.1. 流量监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.html#idp62940368">17.1.2. 交换机监控</a></span></dt></dl></dd><dt><span class="section"><a href="solution/monitoring.cluster.html">17.2. 集群监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.server.html">17.3. 服务器状态监控</a></span></dt><dd><dl><dt><span class="section"><a href="solution/monitoring.server.html#idp62944656">17.3.1. 负载监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.server.html#idp62945648">17.3.2. 磁盘空间监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.server.html#idp62946544">17.3.3. 内存监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.server.html#idp62947440">17.3.4. CPU监控</a></span></dt></dl></dd><dt><span class="section"><a href="solution/monitoring.db.html">17.4. MySQL 监控</a></span></dt><dt><span class="section"><a href="solution/monitoring.alert.html">17.5. 网站安全与预警机制</a></span></dt></dl></dd><dt><span class="chapter"><a href="solution/backup.html">18. Backup</a></span></dt><dd><dl><dt><span class="section"><a href="solution/backup.html#Backup.help">18.1. help</a></span></dt><dd><dl><dt><span class="section"><a href="solution/backup.html#idp62967472">18.1.1. Task</a></span></dt><dt><span class="section"><a href="solution/backup.html#idp62970944">18.1.2. Schedule</a></span></dt><dt><span class="section"><a href="solution/backup.html#idp62973024">18.1.3. Crontab</a></span></dt></dl></dd><dt><span class="section"><a href="solution/backup.conf.html">18.2. 配置文件备份</a></span></dt><dd><dl><dt><span class="section"><a href="solution/backup.conf.html#idp62976304">18.2.1. Firewall and Switch</a></span></dt><dt><span class="section"><a href="solution/backup.conf.html#idp62977744">18.2.2. Server</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="solution/payment.html">19. 支付平台方案</a></span></dt><dd><dl><dt><span class="section"><a href="solution/payment.html#idp62979952">19.1. 方案</a></span></dt><dd><dl><dt><span class="section"><a href="solution/payment.html#idp62980560">19.1.1. 商户方案 </a></span></dt><dt><span class="section"><a href="solution/payment.html#idp62983504">19.1.2. 银行方案</a></span></dt></dl></dd><dt><span class="section"><a href="solution/payment.interface.html">19.2. 支付接口</a></span></dt><dt><span class="section"><a href="solution/payment.backend.html">19.3. 支付派台后台</a></span></dt></dl></dd><dt><span class="chapter"><a href="solution/shop.html">20. 电子商务网站</a></span></dt><dd><dl><dt><span class="section"><a href="solution/shop.html#shop.product">20.1. Product</a></span></dt><dt><span class="section"><a href="solution/shop.cart.html">20.2. Cart &amp; Checkout</a></span></dt><dd><dl><dt><span class="section"><a href="solution/shop.cart.html#idp63005088">20.2.1. 物流配送插件设计</a></span></dt></dl></dd><dt><span class="section"><a href="solution/shop.promotion.html">20.3. 促销优惠组件设计</a></span></dt></dl></dd><dt><span class="chapter"><a href="solution/wechat.html">21. 微信公众平台 </a></span></dt><dd><dl><dt><span class="section"><a href="solution/wechat.html#idp63022768">21.1. 微信公众平台原理</a></span></dt><dt><span class="section"><a href="solution/wechat.mode.html">21.2. 微信公众平台通常提供的服务模式</a></span></dt><dt><span class="section"><a href="solution/wechat.solution.html">21.3. 微信公众平台开发</a></span></dt></dl></dd><dt><span class="chapter"><a href="solution/firewall.html">22. DIY Firewall &amp; VPN</a></span></dt><dd><dl><dt><span class="section"><a href="solution/firewall.html#firewall">22.1. Firewall</a></span></dt><dt><span class="section"><a href="solution/3lvpn.html">22.2. 3 Layer VPN</a></span></dt><dt><span class="section"><a href="solution/7lvpn.html">22.3. 7 Layer VPN</a></span></dt></dl></dd><dt><span class="chapter"><a href="solution/logging.html">23. 日志</a></span></dt><dt><span class="chapter"><a href="solution/service.html">24. Web Service Security</a></span></dt><dd><dl><dt><span class="section"><a href="solution/service.html#service.permission">24.1. 权限控制与实现</a></span></dt><dt><span class="section"><a href="solution/service.demo.html">24.2. 演示</a></span></dt><dt><span class="section"><a href="solution/service.firewall.html">24.3. 增加7 Layer防火墙</a></span></dt></dl></dd></dl></dd><dt><span class="appendix"><a href="appendix.html">1. 附录</a></span></dt><dt><span class="glossary"><a href="glossary.html">术语表</a></span></dt></dl></div><div class="list-of-tables"><p><strong>表格清单</strong></p><dl><dt>9.1. <a href="database/parallel.html#idp62473248">工作流模拟</a></dt></dl></div><div class="list-of-examples"><p><strong>范例清单</strong></p><dl><dt>4.1. <a href="database/category.html#idp62244960">identity_card 身份证归属地表</a></dt><dt>5.1. <a href="database/ordbms.html#idp62324016">递归查询实例 city 表</a></dt><dt>5.2. <a href="database/discuss.html#idp62334704">话题讨论表的设计</a></dt><dt>14.1. <a href="software/i18n.html#idp62830400">php language package</a></dt><dt>14.2. <a href="software/i18n.html#idp62835936">sql table language package</a></dt><dt>14.3. <a href="software/search.html#idp62864320">example robots.txt</a></dt><dt>15.1. <a href="software/defect.dir.html#idp62898176">Example for ECSHOP </a></dt><dt>18.1. <a href="solution/backup.html#idp62956208">Backup program</a></dt></dl></div>
	

	
	




	





	



	

	


	



	


	
	


	<div class="revhistory"><table style="border-style:solid; width:100%;" summary="修订历史"><tr><th align="left" valign="top" colspan="3"><strong>修订历史</strong></th></tr>
	<tr><td align="left">修订 0.1.1</td><td align="left">Sep 12, 2011</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">章节做了大调整，将文档分为五块，多维度架构，开发，运维，SQA，还有DevOps。</td></tr>
	<tr><td align="left">修订 0.1.0</td><td align="left">May 15, 2010</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">增加解决方案一节，并填充了大量章节。同时对完成这篇文档信心大增</td></tr>

	<tr><td align="left">修订 0.0.4</td><td align="left">2010</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">这篇文档几乎没有时间和精力编辑，内容增加不多。</td></tr>

	<tr><td align="left">修订 0.0.4</td><td align="left">April 15, 2009</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">这篇文档几乎搁浅，没有时间和精力，没有编辑加入。今天做了一下布局调整，增加一些内容。</td></tr>

	<tr><td align="left">修订 0.0.3</td><td align="left">Sep. 17, 2008</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">加入关于存储的内容</td></tr>

	<tr><td align="left">修订 0.0.1</td><td align="left">May 24, 2008</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">李振韬加入编译团队</td></tr>

	<tr><td align="left">修订 0.0.0</td><td align="left">May 22, 2008</td><td align="left">Neo</td></tr><tr><td align="left" colspan="3">这是一个值得纪念的日子</td></tr>

</table></div>
	

</div><div xmlns="" id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_fbook"></a><a class="bds_twi"></a><a class="bds_ms"></a><a class="bds_msn"></a><a class="bds_buzz"></a><a class="bds_linkedin"></a><a class="bds_deli"></a><a class="bds_qzone"></a><a class="bds_qq"></a><a class="bds_tqq"></a><a class="bds_tqf"></a><a class="bds_tsina"></a><a class="bds_baidu"></a><a class="bds_renren"></a><a class="bds_t163"></a><a class="bds_tfh"></a><a class="bds_douban"></a><a class="bds_hi"></a><a class="bds_tieba"></a><a class="bds_tsohu"></a><span class="bds_more"></span><a class="shareCount"></a></div><script xmlns="" type="text/javascript" id="bdshare_js" data="type=tools"></script><script xmlns="" type="text/javascript" id="bdshell_js"></script><script xmlns="" type="text/javascript">
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + new Date().getHours();
</script><div xmlns="" id="disqus_thread"></div><script xmlns="" type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */

            //if(document.domain == 'netkiller.github.com'){
            var disqus_shortname = 'netkiller'; // required: replace example with your forum shortname
            //}else{
			//var disqus_shortname = 'neochan';
            //}

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript xmlns="">Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a xmlns="" href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><br xmlns="" /><div xmlns="" id="clustrmaps-widget"></div><script xmlns="" type="text/javascript">var _clustrmaps = {'url' : 'http://netkiller.github.io', 'user' : 1107643, 'server' : '2', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2013-08-14', 'lang' : 'en', 'corners' : 'square' };(function (){ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www2.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();</script><noscript xmlns=""><a href="http://www2.clustrmaps.com/user/87410e6bb"><img src="http://www2.clustrmaps.com/stats/maps-no_clusters/netkiller.github.io-thumb.jpg" alt="Locations of visitors to this page" /></a></noscript><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="preface.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 自述</td></tr></table></div><script xmlns="" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11694057-1']);
  _gaq.push(['_setDomainName', 'netkiller.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><script xmlns="" type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F997cd4a7320a82d72cb74d179118f697' type='text/javascript'%3E%3C/script%3E"));
</script></body></html>