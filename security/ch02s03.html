<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>3. PHP UUID</title><link rel="stylesheet" href="/docbook.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="Netkiller Security 手札" /><link rel="up" href="uuid.html" title="Chapter 2. UUID (Universally Unique Identifier)" /><link rel="prev" href="ch02s02.html" title="2. Subversion" /><link rel="next" href="ch02s04.html" title="4. JAVA UUID" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. PHP UUID</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><th width="60%" align="center">Chapter 2. UUID (Universally Unique Identifier)</th><td width="20%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a></td></tr></table><hr /></div><div class="section" title="3. PHP UUID"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id324234"></a>3. PHP UUID</h2></div></div></div><div class="literallayout"><p><br />
		<pre class="screen"><br />
			<br />
<br />
&lt;?php<br />
/* Copyright 2006 Maciej Strzelecki<br />
<br />
   This program is free software; you can redistribute it and/or modify<br />
   it under the terms of the GNU General Public License as published by<br />
   the Free Software Foundation; either version 2 of the License, or<br />
   (at your option) any later version.<br />
<br />
   This program is distributed in the hope that it will be useful,<br />
   but WITHOUT ANY WARRANTY; without even the implied warranty of<br />
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br />
   GNU General Public License for more details.<br />
<br />
   You should have received a copy of the GNU General Public License<br />
   along with this program; if not, write to the Free Software<br />
   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA */<br />
<br />
function uuid()<br />
{<br />
   // version 4 UUID<br />
   return sprintf(<br />
       '%08x-%04x-%04x-%02x%02x-%012x',<br />
       mt_rand(),<br />
       mt_rand(0, 65535),<br />
       bindec(substr_replace(<br />
           sprintf('%016b', mt_rand(0, 65535)), '0100', 11, 4)<br />
       ),<br />
       bindec(substr_replace(sprintf('%08b', mt_rand(0, 255)), '01', 5, 2)),<br />
       mt_rand(0, 255),<br />
       mt_rand()<br />
   );<br />
}<br />
?&gt;<br />
<br />
<br />
		</pre><br />
		</p></div><p>参考：http://cn.php.net/uniqid</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="uuid.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2. Subversion </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 4. JAVA UUID</td></tr></table></div></body></html>
