<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>5.4. 外键(Foreign Key)</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="index.html" title="Netkiller MySQL 手札"><link rel="up" href="ch05.html" title="第 5 章 DDL - Data Definition Language"><link rel="prev" href="ch05s03.html" title="5.3. Index"><link rel="next" href="ch05s05.html" title="5.5. View"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="5.4. 外键(Foreign Key)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ddl.key"></a>5.4. 外键(Foreign Key)</h2></div></div></div>
		
		<div class="orderedlist" title="ON DELETE, ON UPDATE 事件触发限制，可选参数： RESTRICT | CASCADE | SET NULL | NO ACTION"><p class="title"><b>ON DELETE, ON UPDATE 事件触发限制，可选参数： RESTRICT | CASCADE | SET NULL | NO ACTION</b></p><ol class="orderedlist" type="1"><li class="listitem"><p>RESTRICT（限制外表中的外键改动）</p></li><li class="listitem"><p>CASCADE（跟随外键改动）</p></li><li class="listitem"><p>SET NULL（设空值）</p></li><li class="listitem"><p>SET DEFAULT（设默认值）</p></li><li class="listitem"><p>NO ACTION（无动作，默认的）</p></li></ol></div>
		<div class="section" title="5.4.1. FOREIGN KEY (RESTRICT)"><div class="titlepage"><div><div><h3 class="title"><a name="idp670208"></a>5.4.1. FOREIGN KEY (RESTRICT)</h3></div></div></div>
			
			<pre class="screen">
CREATE TABLE `bank_account_group_has_bank_account` (
	`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
	`bank_account_group_id` INT(10) UNSIGNED NOT NULL DEFAULT '0',
	`bank_account_id` INT(10) UNSIGNED NOT NULL DEFAULT '0',
	PRIMARY KEY (`id`),
	INDEX `FK_bank_account_group_has_bank_account_bank_account` (`bank_account_id`),
	INDEX `FK_bank_account_group_has_bank_account_bank_account_group` (`bank_account_group_id`),
	CONSTRAINT `FK_bank_account_group_has_bank_account_bank_account` FOREIGN KEY (`bank_account_id`) REFERENCES `bank_account` (`id`),
	CONSTRAINT `FK_bank_account_group_has_bank_account_bank_account_group` FOREIGN KEY (`bank_account_group_id`) REFERENCES `bank_account_group` (`id`)
)
COMMENT='bank_account_group 与 bank_account 的 N:M 关系'
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=35;
			</pre>
		</div>
	</div></body></html>
