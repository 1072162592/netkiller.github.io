<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>2.3. PHP UUID</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="keywords" content="md5sum, openssl, openpgp, opengpg, md5, sha1, des, rsa, uuid, base64, quoted-printable, uuencode, x509,smime"><link rel="home" href="index.html" title="Netkiller Cryptography 手札"><link rel="up" href="ch02.html" title="Chapter 2. UUID (Universally Unique Identifier)"><link rel="prev" href="ch02s02.html" title="2.2. Subversion"><link rel="next" href="ch02s04.html" title="2.4. JAVA UUID"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="2.3. PHP UUID"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="uuid.php"></a>2.3. PHP UUID</h2></div></div></div>
		
		<div class="literallayout"><p><br>
		<pre class="screen"><br>
<br>
<br>
&lt;?php<br>
/* Copyright 2006 Maciej Strzelecki<br>
<br>
   This program is free software; you can redistribute it and/or modify<br>
   it under the terms of the GNU General Public License as published by<br>
   the Free Software Foundation; either version 2 of the License, or<br>
   (at your option) any later version.<br>
<br>
   This program is distributed in the hope that it will be useful,<br>
   but WITHOUT ANY WARRANTY; without even the implied warranty of<br>
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br>
   GNU General Public License for more details.<br>
<br>
   You should have received a copy of the GNU General Public License<br>
   along with this program; if not, write to the Free Software<br>
   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA */<br>
<br>
function uuid()<br>
{<br>
   // version 4 UUID<br>
   return sprintf(<br>
       '%08x-%04x-%04x-%02x%02x-%012x',<br>
       mt_rand(),<br>
       mt_rand(0, 65535),<br>
       bindec(substr_replace(<br>
           sprintf('%016b', mt_rand(0, 65535)), '0100', 11, 4)<br>
       ),<br>
       bindec(substr_replace(sprintf('%08b', mt_rand(0, 255)), '01', 5, 2)),<br>
       mt_rand(0, 255),<br>
       mt_rand()<br>
   );<br>
}<br>
?&gt;<br>
<br>
<br>
		</pre><br>
		</p></div>
		<p>参考：http://cn.php.net/uniqid</p>
	</div></body></html>
