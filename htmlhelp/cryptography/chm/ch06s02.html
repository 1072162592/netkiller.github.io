<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>6.2. PHP crypt()</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="keywords" content="md5sum, openssl, openpgp, opengpg, md5, sha1, des, rsa, uuid, base64, quoted-printable, uuencode, x509,smime"><link rel="home" href="index.html" title="Netkiller Cryptography 手札"><link rel="up" href="ch06.html" title="Chapter 6. DES crypt() 专题"><link rel="prev" href="ch06.html" title="Chapter 6. DES crypt() 专题"><link rel="next" href="ch06s03.html" title="6.3. perl crypt"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="6.2. PHP crypt()"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="des.crypt.php"></a>6.2. PHP crypt()</h2></div></div></div>
		
		<p>将字符串用 DES 编码加密。 </p>
		<p>语法: string crypt(string str, string [salt]); </p>
		<p>返回值: 字符串 </p>
		<p>函数种类: 编码处理 </p>
		<p>内容说明</p>
		<p>本函数将字符串用 UNIX 的标准加密 DES 模块加密。这是单向的加密函数，无法解密。欲比对字符串，将已加密的字符串的头二个字符放在 salt 的参数中，再比对加密后的字符串。 </p>
		<p>更详细的资料请参考 UNIX Manual (man) 中的 crypt。 </p>
		<p>在一些较新的 UNIX 版本中，除了 DES 之外还提供了其它的加密模块，如 MD5。甚至有些系统还用 MD5 取代 DES。在 salt 参数还有一些变化，端看传给 salt 参数的字符串长度而定： </p>
		<table border="0" summary="Simple list" class="simplelist"><tr><td> * CRYPT_STD_DES - 标准的 DES 编码，输入 2 字符的 salt。</td></tr><tr><td> * CRYPT_EXT_DES - 延伸的 DES 编码，输入 9 字符的 salt。</td></tr><tr><td>* CRYPT_MD5 - MD5 编码，输入 12 字符加上 $1$ 的 salt。</td></tr><tr><td>* CRYPT_BLOWFISH - 延伸的 DES 编码，输入 16 字符加上 $2$ 的 salt。</td></tr></table>
		<p>此外，若不使用 salt 参数，则程序会自动产生。 </p>
		<pre class="screen">

# cat crypt.php

&lt;html&gt;

&lt;p&gt;DES 密码&lt;/p&gt;

&lt;form method=post action=crypt.php&gt;

&lt;p&gt;password:&lt;input name=passwd type=text size=20&gt;&lt;/p&gt;

&lt;input type=submit value=submit&gt;

&lt;/form&gt;

&lt;?

$enpw=crypt($passwd);

echo "password is: $enpw";

?&gt;



[root@linux root]# wget http://netkiller.hikz.com/linux/download/myphp/site-2.1.0.tar.gz
[root@linux root]#tar zxvf site-2.1.0.tar.gz
[root@linux root]#cp –r site /usr/local/apache/htdocs
[root@linux root]#lynx http://localhost/site

		</pre>
	</div></body></html>
