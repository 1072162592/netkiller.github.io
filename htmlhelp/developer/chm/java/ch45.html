<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 45 章 Java</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="keywords" content="PHP, Python, Perl, Ruby, Java, HTML, XHTML, HTML5, CSS, Javascript, JQuery, C, C++, D"><link rel="home" href="../index.html" title="Netkiller Developer 手札"><link rel="up" href="../index.html" title="Netkiller Developer 手札"><link rel="prev" href="../perl/ch44s05.html" title="44.5. Zend Framework"><link rel="next" href="ch45s02.html" title="45.2. Build Tools"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="第 45 章 Java"><div class="titlepage"><div><div><h2 class="title"><a name="index"></a>第 45 章 Java</h2></div></div></div><div class="toc"><p><b>目录</b></p><dl><dt><span class="section"><a href="ch45.html#java">45.1. 安装 JDK</a></span></dt><dd><dl><dt><span class="section"><a href="ch45.html#idp1312288">45.1.1. HeapDumpOnOutOfMemoryError</a></span></dt></dl></dd><dt><span class="section"><a href="ch45s02.html">45.2. Build Tools</a></span></dt><dd><dl><dt><span class="section"><a href="ch45s02.html#ant">45.2.1. Apache Ant</a></span></dt><dt><span class="section"><a href="ch45s02.html#ivy">45.2.2. Apache Ivy</a></span></dt><dd><dl><dt><span class="section"><a href="ch45s02.html#idp1321168">45.2.2.1. Ivy Install</a></span></dt><dt><span class="section"><a href="ch45s02.html#idp1326752">45.2.2.2. Test example</a></span></dt></dl></dd><dt><span class="section"><a href="ch45s02.html#maven">45.2.3. maven2</a></span></dt></dl></dd><dt><span class="section"><a href="ch45s03.html">45.3. API</a></span></dt><dd><dl><dt><span class="section"><a href="ch45s03.html#log4j">45.3.1. log4j</a></span></dt><dt><span class="section"><a href="ch45s03.html#memcache">45.3.2. java memcached client</a></span></dt><dt><span class="section"><a href="ch45s03.html#hessian">45.3.3. Hessian</a></span></dt></dl></dd></dl></div>
	

<div class="section" title="45.1. 安装 JDK"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="java"></a>45.1. 安装 JDK</h2></div></div></div>
	
	<p>解压</p>
	<pre class="screen">
chmod +x jdk-6u1-linux-i586.bin
./jdk-6u1-linux-i586.bin
输入"yes"回车

mv jdk1.6.0_01 /usr/local/
ln -s /usr/local/jdk1.6.0_01/ /usr/local/java
	</pre>
	<p>/etc/profile.d/java.sh</p>
	<div class="example"><a name="idp1309808"></a><p class="title"><b>例 45.1. /etc/profile.d/java.sh</b></p><div class="example-contents">
		
		<pre class="screen">
################################################
### Java environment by neo
################################################
export JAVA_HOME=/usr/local/java
export JRE_HOME=/usr/local/java/jre
export PATH=$PATH:/usr/local/java/bin:/usr/local/java/jre/bin
export CLASSPATH="./:/usr/local/java/lib:/usr/local/java/jre/lib:/usr/local/memcached/api/java"
export JAVA_OPTS="-Xms128m -Xmx1024m"
		</pre>
			
	</div></div><br class="example-break">
	<div class="section" title="45.1.1. HeapDumpOnOutOfMemoryError"><div class="titlepage"><div><div><h3 class="title"><a name="idp1312288"></a>45.1.1. HeapDumpOnOutOfMemoryError</h3></div></div></div>
		
		<pre class="screen">
JAVA_OPTS = "$JAVA_OPTS -XX:+HeapDumpOnOutOfMemoryError"
		</pre>
		<p>如果针对Tomcat可以在catalina.sh加入</p>
		<pre class="screen">
if [ "$1" = "debug" ] ; then
JAVA_OPTS = "$JAVA_OPTS -XX:+HeapDumpOnOutOfMemoryError"
		</pre>
	</div>
</div>

	



	


</div></body></html>
