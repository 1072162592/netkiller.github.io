<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>22.5. React - Event-driven, non-blocking I/O with PHP. (Node.PHP)</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="keywords" content="PHP, Python, Perl, Ruby, Java, HTML, XHTML, HTML5, CSS, Javascript, JQuery, C, C++, D"><link rel="home" href="../index.html" title="Netkiller Developer 手札"><link rel="up" href="ch22.html" title="第 22 章 Application"><link rel="prev" href="ch22s04.html" title="22.4.  whois 域名查询"><link rel="next" href="ch23.html" title="第 23 章 Frameworks"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" title="22.5. React - Event-driven, non-blocking I/O with PHP. (Node.PHP)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="react"></a>22.5. React - Event-driven, non-blocking I/O with PHP. (Node.PHP)</h2></div></div></div>
		
		<p>http://reactphp.org/</p>
		<pre class="programlisting">
AN EXAMPLE: WEBSERVER

This simple web server written in React responds with "Hello World" for every request.

require 'vendor/autoload.php';

$app = function ($request, $response) {
    $response-&gt;writeHead(200, array('Content-Type' =&gt; 'text/plain'));
    $response-&gt;end("Hello World\n");
};

$loop = React\EventLoop\Factory::create();
$socket = new React\Socket\Server($loop);
$http = new React\Http\Server($socket, $loop);

$http-&gt;on('request', $app);
echo "Server running at http://127.0.0.1:1337\n";

$socket-&gt;listen(1337);
$loop-&gt;run();
To install, just run this command:

% composer init --require=react/http:0.3.* -n
% composer install
To run the server, put the code into a file example.php and execute it with the php program:

% php example.php
Server running at http://127.0.0.1:1337
		</pre>
	</div></body></html>
