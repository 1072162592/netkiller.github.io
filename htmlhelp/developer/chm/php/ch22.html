<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>第 22 章 Application</title><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><meta name="keywords" content="PHP, Python, Perl, Ruby, Java, HTML, XHTML, HTML5, CSS, Javascript, JQuery, C, C++, D"><link rel="home" href="../index.html" title="Netkiller Developer 手札"><link rel="up" href="pt03.html" title="部分 III. PHP 5"><link rel="prev" href="ch21s08.html" title="21.8. libuv php extension"><link rel="next" href="ch22s02.html" title="22.2. Soap"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter" title="第 22 章 Application"><div class="titlepage"><div><div><h2 class="title"><a name="app"></a>第 22 章 Application</h2></div></div></div><div class="toc"><p><b>目录</b></p><dl><dt><span class="section"><a href="ch22.html#php.phpmailer">22.1. phpmailer</a></span></dt><dt><span class="section"><a href="ch22s02.html">22.2. Soap</a></span></dt><dd><dl><dt><span class="section"><a href="ch22s02.html#idp856160">22.2.1. soapfunc.php</a></span></dt><dt><span class="section"><a href="ch22s02.html#idp858512">22.2.2. soapserver.php</a></span></dt><dt><span class="section"><a href="ch22s02.html#idp860064">22.2.3. soapclient.php</a></span></dt></dl></dd><dt><span class="section"><a href="ch22s03.html">22.3. php function check</a></span></dt><dt><span class="section"><a href="ch22s04.html">22.4.  whois 域名查询</a></span></dt><dt><span class="section"><a href="ch22s05.html">22.5. React - Event-driven, non-blocking I/O with PHP. (Node.PHP)</a></span></dt></dl></div>
	
	<div class="section" title="22.1. phpmailer"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="php.phpmailer"></a>22.1. phpmailer</h2></div></div></div>
		
		<pre class="programlisting">
		
&lt;?php
/**
* Simple example script using PHPMailer with exceptions enabled
* @package phpmailer
* @version $Id: chapter.application.xml 662 2013-08-14 02:46:24Z netkiller $
*/

require '../class.phpmailer.php';

try {
        $mail = new PHPMailer(true); //New instance, with exceptions enabled

        $body             = file_get_contents('contents.html');
        $body             = preg_replace('/\\\\/','', $body); //Strip backslashes

        $mail-&gt;IsSMTP();                           // tell the class to use SMTP
        $mail-&gt;SMTPAuth   = true;                  // enable SMTP authentication
        $mail-&gt;Port       = 25;                    // set the SMTP server port
        $mail-&gt;Host       = "mail.yourdomain.com"; // SMTP server
        $mail-&gt;Username   = "name@domain.com";     // SMTP server username
        $mail-&gt;Password   = "password";            // SMTP server password

        $mail-&gt;IsSendmail();  // tell the class to use Sendmail

        $mail-&gt;AddReplyTo("name@domain.com","First Last");

        $mail-&gt;From       = "name@domain.com";
        $mail-&gt;FromName   = "First Last";

        $to = "someone@example...com";

        $mail-&gt;AddAddress($to);

        $mail-&gt;Subject  = "First PHPMailer Message";

        $mail-&gt;AltBody    = "To view the message, please use an HTML compatible email viewer!"; // optional, comment out and test
        $mail-&gt;WordWrap   = 80; // set word wrap

        $mail-&gt;MsgHTML($body);

        $mail-&gt;IsHTML(true); // send as HTML

        $mail-&gt;Send();
        echo 'Message has been sent.';
} catch (phpmailerException $e) {
        echo $e-&gt;errorMessage();
}
		
		</pre>
	</div>
	
	
	
	
	
</div></body></html>
