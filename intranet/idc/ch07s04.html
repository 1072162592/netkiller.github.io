<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4. pmap/strace</title><link rel="stylesheet" href="/docbook.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="../index.html" title="Netkiller Intranet &amp; IDC 手札" /><link rel="up" href="ch07.html" title="第 7 章 瓶颈分析" /><link rel="prev" href="ch07s03.html" title="3. IO 瓶颈" /><link rel="next" href="ch07s05.html" title="5. web server" /><script xmlns="" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11694057-1']);
  _gaq.push(['_setDomainName', 'netkiller.sourceforge.net']);
  _gaq.push(['_setAllowHash', 'false']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. pmap/strace</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s03.html">上一页</a> </td><th width="60%" align="center">第 7 章 瓶颈分析</th><td width="20%" align="right"> <a accesskey="n" href="ch07s05.html">下一页</a></td></tr></table><hr /></div><table xmlns="" width="100%" border="0"><tr><td align="left"><a href="http://netkiller.sourceforge.net/">Home</a> |
                <a href="http://netkiller.github.com/">Mirror</a> |
                <a href="/search.html">Search</a></td><td align="right"><form id="searchbox_008589143145807374698:f5uprauilyy" action="/search.html"><input type="hidden" name="cx" value="008589143145807374698:f5uprauilyy" /><input type="hidden" name="cof" value="FORID:11" /><input name="q" type="text" size="25" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; " /><input type="submit" name="sa" value="Search" /><input name="siteurl" type="hidden" value="http://netkiller.sourceforge.net/" /></form><script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_008589143145807374698%3Af5uprauilyy"></script></td></tr></table><div class="section" title="4. pmap/strace"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id1454766"></a>4. pmap/strace</h2></div></div></div><pre class="screen">
# pmap -d 27970

27970:   /usr/local/httpd-2.2.16/bin/httpd -k restart
Address           Kbytes Mode  Offset           Device    Mapping
0000000000400000     576 r-x-- 0000000000000000 008:00001 httpd
0000000000690000      20 rw--- 0000000000090000 008:00001 httpd
0000000000695000      16 rw--- 0000000000695000 000:00000   [ anon ]
0000000005dda000   14880 rw--- 0000000005dda000 000:00000   [ anon ]
0000000041d2b000       4 ----- 0000000041d2b000 000:00000   [ anon ]
0000000041d2c000   10240 rw--- 0000000041d2c000 000:00000   [ anon ]
00002aaaaaab6000      52 r-x-- 0000000000000000 008:00001 libgcc_s-4.1.2-20080825.so.1
00002aaaaaac3000    2048 ----- 000000000000d000 008:00001 libgcc_s-4.1.2-20080825.so.1
00002aaaaacc3000       4 rw--- 000000000000d000 008:00001 libgcc_s-4.1.2-20080825.so.1
00002aaaaacc4000     268 rw-s- 0000000000000000 000:00009 zero (deleted)
00002aaaaad07000       8 r-x-- 0000000000000000 008:00001 mod_file_cache.so
00002aaaaad09000    2048 ----- 0000000000002000 008:00001 mod_file_cache.so
00002aaaaaf09000       4 rw--- 0000000000002000 008:00001 mod_file_cache.so
00002aaaaaf0a000      20 r-x-- 0000000000000000 008:00001 mod_disk_cache.so
00002aaaaaf0f000    2044 ----- 0000000000005000 008:00001 mod_disk_cache.so
00002aaaab10e000       4 rw--- 0000000000004000 008:00001 mod_disk_cache.so
00002aaaab10f000       8 r-x-- 0000000000000000 008:00001 mod_usertrack.so
00002aaaab111000    2048 ----- 0000000000002000 008:00001 mod_usertrack.so
00002aaaab311000       4 rw--- 0000000000002000 008:00001 mod_usertrack.so
00002aaaab312000       8 r-x-- 0000000000000000 008:00001 mod_version.so
00002aaaab314000    2044 ----- 0000000000002000 008:00001 mod_version.so
00002aaaab513000       4 rw--- 0000000000001000 008:00001 mod_version.so
00002aaaab514000     152 r-x-- 0000000000000000 008:00001 mod_ssl.so
00002aaaab53a000    2048 ----- 0000000000026000 008:00001 mod_ssl.so
00002aaaab73a000       8 rw--- 0000000000026000 008:00001 mod_ssl.so
00002aaaab73c000       8 rw--- 00002aaaab73c000 000:00000   [ anon ]
00002aaaab748000     280 r-x-- 0000000000000000 008:00001 libssl.so.0.9.8e
00002aaaab78e000    2048 ----- 0000000000046000 008:00001 libssl.so.0.9.8e
00002aaaab98e000      24 rw--- 0000000000046000 008:00001 libssl.so.0.9.8e
00002aaaab994000    1204 r-x-- 0000000000000000 008:00001 libcrypto.so.0.9.8e
00002aaaabac1000    2044 ----- 000000000012d000 008:00001 libcrypto.so.0.9.8e
00002aaaabcc0000     132 rw--- 000000000012c000 008:00001 libcrypto.so.0.9.8e
00002aaaabce1000      16 rw--- 00002aaaabce1000 000:00000   [ anon ]
00002aaaabce5000     176 r-x-- 0000000000000000 008:00001 libgssapi_krb5.so.2.2
00002aaaabd11000    2048 ----- 000000000002c000 008:00001 libgssapi_krb5.so.2.2
00002aaaabf11000       8 rw--- 000000000002c000 008:00001 libgssapi_krb5.so.2.2
00002aaaabf13000     580 r-x-- 0000000000000000 008:00001 libkrb5.so.3.3
00002aaaabfa4000    2048 ----- 0000000000091000 008:00001 libkrb5.so.3.3
00002aaaac1a4000      16 rw--- 0000000000091000 008:00001 libkrb5.so.3.3
00002aaaac1a8000       8 r-x-- 0000000000000000 008:00001 libcom_err.so.2.1
00002aaaac1aa000    2044 ----- 0000000000002000 008:00001 libcom_err.so.2.1
00002aaaac3a9000       4 rw--- 0000000000001000 008:00001 libcom_err.so.2.1
00002aaaac3aa000     144 r-x-- 0000000000000000 008:00001 libk5crypto.so.3.1
00002aaaac3ce000    2044 ----- 0000000000024000 008:00001 libk5crypto.so.3.1
00002aaaac5cd000       8 rw--- 0000000000023000 008:00001 libk5crypto.so.3.1
00002aaaac5cf000      32 r-x-- 0000000000000000 008:00001 libkrb5support.so.0.1
00002aaaac5d7000    2044 ----- 0000000000008000 008:00001 libkrb5support.so.0.1
00002aaaac7d6000       4 rw--- 0000000000007000 008:00001 libkrb5support.so.0.1
00002aaaac7d7000       8 r-x-- 0000000000000000 008:00001 libkeyutils-1.2.so
00002aaaac7d9000    2044 ----- 0000000000002000 008:00001 libkeyutils-1.2.so
00002aaaac9d8000       4 rw--- 0000000000001000 008:00001 libkeyutils-1.2.so
00002aaaac9d9000      84 r-x-- 0000000000000000 008:00001 libselinux.so.1
00002aaaac9ee000    2048 ----- 0000000000015000 008:00001 libselinux.so.1
00002aaaacbee000       8 rw--- 0000000000015000 008:00001 libselinux.so.1
00002aaaacbf0000       4 rw--- 00002aaaacbf0000 000:00000   [ anon ]
00002aaaacbf1000     236 r-x-- 0000000000000000 008:00001 libsepol.so.1
00002aaaacc2c000    2048 ----- 000000000003b000 008:00001 libsepol.so.1
00002aaaace2c000       4 rw--- 000000000003b000 008:00001 libsepol.so.1
00002aaaace2d000      40 rw--- 00002aaaace2d000 000:00000   [ anon ]
00002aaaace37000      16 r-x-- 0000000000000000 008:00001 mod_status.so
00002aaaace3b000    2048 ----- 0000000000004000 008:00001 mod_status.so
00002aaaad03b000       4 rw--- 0000000000004000 008:00001 mod_status.so
00002aaaad03c000      16 r-x-- 0000000000000000 008:00001 mod_info.so
00002aaaad040000    2048 ----- 0000000000004000 008:00001 mod_info.so
00002aaaad240000       4 rw--- 0000000000004000 008:00001 mod_info.so
00002aaaad241000      12 r-x-- 0000000000000000 008:00001 mod_alias.so
00002aaaad244000    2044 ----- 0000000000003000 008:00001 mod_alias.so
00002aaaad443000       4 rw--- 0000000000002000 008:00001 mod_alias.so
00002aaaad444000    7424 r-x-- 0000000000000000 008:00001 libphp5.so
00002aaaadb84000    2048 ----- 0000000000740000 008:00001 libphp5.so
00002aaaadd84000     436 rw--- 0000000000740000 008:00001 libphp5.so
00002aaaaddf1000      36 rw--- 00002aaaaddf1000 000:00000   [ anon ]
00002aaaaddfa000      68 r-x-- 0000000000000000 008:00001 libexslt.so.0.8.13
00002aaaade0b000    2048 ----- 0000000000011000 008:00001 libexslt.so.0.8.13
00002aaaae00b000       4 rw--- 0000000000011000 008:00001 libexslt.so.0.8.13
00002aaaae00c000    1200 r-x-- 0000000000000000 008:00001 libmysqlclient_r.so.15.0.0
00002aaaae138000    2044 ----- 000000000012c000 008:00001 libmysqlclient_r.so.15.0.0
00002aaaae337000     288 rw--- 000000000012b000 008:00001 libmysqlclient_r.so.15.0.0
00002aaaae37f000       4 rw--- 00002aaaae37f000 000:00000   [ anon ]
00002aaaae380000     224 r-x-- 0000000000000000 008:00001 libldap-2.3.so.0.2.31
00002aaaae3b8000    2048 ----- 0000000000038000 008:00001 libldap-2.3.so.0.2.31
00002aaaae5b8000       8 rw--- 0000000000038000 008:00001 libldap-2.3.so.0.2.31
00002aaaae5ba000      52 r-x-- 0000000000000000 008:00001 liblber-2.3.so.0.2.31
00002aaaae5c7000    2048 ----- 000000000000d000 008:00001 liblber-2.3.so.0.2.31
00002aaaae7c7000       4 rw--- 000000000000d000 008:00001 liblber-2.3.so.0.2.31
00002aaaae7c8000     140 r-x-- 0000000000000000 008:00001 libpng12.so.0.10.0
00002aaaae7eb000    2048 ----- 0000000000023000 008:00001 libpng12.so.0.10.0
00002aaaae9eb000       4 rw--- 0000000000023000 008:00001 libpng12.so.0.10.0
00002aaaae9ec000     132 r-x-- 0000000000000000 008:00001 libjpeg.so.62.0.0
00002aaaaea0d000    2044 ----- 0000000000021000 008:00001 libjpeg.so.62.0.0
00002aaaaec0c000       4 rw--- 0000000000020000 008:00001 libjpeg.so.62.0.0
00002aaaaec0d000     236 r-x-- 0000000000000000 008:00001 libcurl.so.3.0.0
00002aaaaec48000    2048 ----- 000000000003b000 008:00001 libcurl.so.3.0.0
00002aaaaee48000       8 rw--- 000000000003b000 008:00001 libcurl.so.3.0.0
00002aaaaee54000      84 r-x-- 0000000000000000 008:00001 libnsl-2.5.so
00002aaaaee69000    2044 ----- 0000000000015000 008:00001 libnsl-2.5.so
00002aaaaf068000       4 r---- 0000000000014000 008:00001 libnsl-2.5.so
00002aaaaf069000       4 rw--- 0000000000015000 008:00001 libnsl-2.5.so
00002aaaaf06a000       8 rw--- 00002aaaaf06a000 000:00000   [ anon ]
00002aaaaf06c000    1228 r-x-- 0000000000000000 008:00001 libxml2.so.2.6.26
00002aaaaf19f000    2048 ----- 0000000000133000 008:00001 libxml2.so.2.6.26
00002aaaaf39f000      36 rw--- 0000000000133000 008:00001 libxml2.so.2.6.26
00002aaaaf3a8000       4 rw--- 00002aaaaf3a8000 000:00000   [ anon ]
00002aaaaf3a9000     196 r-x-- 0000000000000000 008:00001 libidn.so.11.5.19
00002aaaaf3da000    2044 ----- 0000000000031000 008:00001 libidn.so.11.5.19
00002aaaaf5d9000       4 rw--- 0000000000030000 008:00001 libidn.so.11.5.19
00002aaaaf5da000     576 r-x-- 0000000000000000 008:00001 libnetsnmp.so.10.0.3
00002aaaaf66a000    2048 ----- 0000000000090000 008:00001 libnetsnmp.so.10.0.3
00002aaaaf86a000      16 rw--- 0000000000090000 008:00001 libnetsnmp.so.10.0.3
00002aaaaf86e000     208 rw--- 00002aaaaf86e000 000:00000   [ anon ]
00002aaaaf8a2000      32 r-x-- 0000000000000000 008:00001 libwrap.so.0.7.6
00002aaaaf8aa000    2044 ----- 0000000000008000 008:00001 libwrap.so.0.7.6
00002aaaafaa9000       8 rw--- 0000000000007000 008:00001 libwrap.so.0.7.6
00002aaaafaab000     208 r-x-- 0000000000000000 008:00001 libxslt.so.1.1.17
00002aaaafadf000    2044 ----- 0000000000034000 008:00001 libxslt.so.1.1.17
00002aaaafcde000       8 rw--- 0000000000033000 008:00001 libxslt.so.1.1.17
00002aaaafce0000     444 r-x-- 0000000000000000 008:00001 libgcrypt.so.11.5.2
00002aaaafd4f000    2044 ----- 000000000006f000 008:00001 libgcrypt.so.11.5.2
00002aaaaff4e000      16 rw--- 000000000006e000 008:00001 libgcrypt.so.11.5.2
00002aaaaff52000      12 r-x-- 0000000000000000 008:00001 libgpg-error.so.0.3.0
00002aaaaff55000    2044 ----- 0000000000003000 008:00001 libgpg-error.so.0.3.0
00002aaab0154000       4 rw--- 0000000000002000 008:00001 libgpg-error.so.0.3.0
00002aaab0155000      96 r-x-- 0000000000000000 008:00001 libsasl2.so.2.0.22
00002aaab016d000    2048 ----- 0000000000018000 008:00001 libsasl2.so.2.0.22
00002aaab036d000       4 rw--- 0000000000018000 008:00001 libsasl2.so.2.0.22
00002aabee74b000     112 r-x-- 0000000000000000 008:00001 ld-2.5.so
00002aabee767000       4 rw--- 00002aabee767000 000:00000   [ anon ]
00002aabee772000       4 rw--- 00002aabee772000 000:00000   [ anon ]
00002aabee966000       4 r---- 000000000001b000 008:00001 ld-2.5.so
00002aabee967000       4 rw--- 000000000001c000 008:00001 ld-2.5.so
00002aabee968000      80 r-x-- 0000000000000000 008:00001 libz.so.1.2.3
00002aabee97c000    2044 ----- 0000000000014000 008:00001 libz.so.1.2.3
00002aabeeb7b000       4 rw--- 0000000000013000 008:00001 libz.so.1.2.3
00002aabeeb7c000     520 r-x-- 0000000000000000 008:00001 libm-2.5.so
00002aabeebfe000    2044 ----- 0000000000082000 008:00001 libm-2.5.so
00002aabeedfd000       4 r---- 0000000000081000 008:00001 libm-2.5.so
00002aabeedfe000       4 rw--- 0000000000082000 008:00001 libm-2.5.so
00002aabeedff000     120 r-x-- 0000000000000000 008:00001 libaprutil-1.so.0.3.9
00002aabeee1d000    2044 ----- 000000000001e000 008:00001 libaprutil-1.so.0.3.9
00002aabef01c000       8 rw--- 000000000001d000 008:00001 libaprutil-1.so.0.3.9
00002aabef01e000       4 rw--- 00002aabef01e000 000:00000   [ anon ]
00002aabef01f000     120 r-x-- 0000000000000000 008:00001 libexpat.so.0.1.0
00002aabef03d000    2048 ----- 000000000001e000 008:00001 libexpat.so.0.1.0
00002aabef23d000       8 rw--- 000000000001e000 008:00001 libexpat.so.0.1.0
00002aabef23f000     172 r-x-- 0000000000000000 008:00001 libapr-1.so.0.4.2
00002aabef26a000    2044 ----- 000000000002b000 008:00001 libapr-1.so.0.4.2
00002aabef469000       8 rw--- 000000000002a000 008:00001 libapr-1.so.0.4.2
00002aabef46b000      12 r-x-- 0000000000000000 008:00001 libuuid.so.1.2
00002aabef46e000    2048 ----- 0000000000003000 008:00001 libuuid.so.1.2
00002aabef66e000       4 rw--- 0000000000003000 008:00001 libuuid.so.1.2
00002aabef66f000       4 rw--- 00002aabef66f000 000:00000   [ anon ]
00002aabef670000      28 r-x-- 0000000000000000 008:00001 librt-2.5.so
00002aabef677000    2048 ----- 0000000000007000 008:00001 librt-2.5.so
00002aabef877000       4 r---- 0000000000007000 008:00001 librt-2.5.so
00002aabef878000       4 rw--- 0000000000008000 008:00001 librt-2.5.so
00002aabef879000      36 r-x-- 0000000000000000 008:00001 libcrypt-2.5.so
00002aabef882000    2044 ----- 0000000000009000 008:00001 libcrypt-2.5.so
00002aabefa81000       4 r---- 0000000000008000 008:00001 libcrypt-2.5.so
00002aabefa82000       4 rw--- 0000000000009000 008:00001 libcrypt-2.5.so
00002aabefa83000     184 rw--- 00002aabefa83000 000:00000   [ anon ]
00002aabefab1000      88 r-x-- 0000000000000000 008:00001 libpthread-2.5.so
00002aabefac7000    2044 ----- 0000000000016000 008:00001 libpthread-2.5.so
00002aabefcc6000       4 r---- 0000000000015000 008:00001 libpthread-2.5.so
00002aabefcc7000       4 rw--- 0000000000016000 008:00001 libpthread-2.5.so
00002aabefcc8000      20 rw--- 00002aabefcc8000 000:00000   [ anon ]
00002aabefccd000       8 r-x-- 0000000000000000 008:00001 libdl-2.5.so
00002aabefccf000    2048 ----- 0000000000002000 008:00001 libdl-2.5.so
00002aabefecf000       4 r---- 0000000000002000 008:00001 libdl-2.5.so
00002aabefed0000       4 rw--- 0000000000003000 008:00001 libdl-2.5.so
00002aabefed1000    1336 r-x-- 0000000000000000 008:00001 libc-2.5.so
00002aabf001f000    2044 ----- 000000000014e000 008:00001 libc-2.5.so
00002aabf021e000      16 r---- 000000000014d000 008:00001 libc-2.5.so
00002aabf0222000       4 rw--- 0000000000151000 008:00001 libc-2.5.so
00002aabf0223000      28 rw--- 00002aabf0223000 000:00000   [ anon ]
00002aabf1efc000      68 r-x-- 0000000000000000 008:00001 libresolv-2.5.so
00002aabf1f0d000    2048 ----- 0000000000011000 008:00001 libresolv-2.5.so
00002aabf210d000       4 r---- 0000000000011000 008:00001 libresolv-2.5.so
00002aabf210e000       4 rw--- 0000000000012000 008:00001 libresolv-2.5.so
00002aabf210f000       8 rw--- 00002aabf210f000 000:00000   [ anon ]
00002aabf5aa6000      40 r-x-- 0000000000000000 008:00001 libnss_files-2.5.so
00002aabf5ab0000    2044 ----- 000000000000a000 008:00001 libnss_files-2.5.so
00002aabf5caf000       4 r---- 0000000000009000 008:00001 libnss_files-2.5.so
00002aabf5cb0000       4 rw--- 000000000000a000 008:00001 libnss_files-2.5.so
00002aabf5cb1000      16 r-x-- 0000000000000000 008:00001 libnss_dns-2.5.so
00002aabf5cb5000    2044 ----- 0000000000004000 008:00001 libnss_dns-2.5.so
00002aabf5eb4000       4 r---- 0000000000003000 008:00001 libnss_dns-2.5.so
00002aabf5eb5000       4 rw--- 0000000000004000 008:00001 libnss_dns-2.5.so
00002aabf60cf000   55144 r---- 0000000000000000 008:00001 locale-archive
00007fff05c7c000      84 rw--- 00007ffffffea000 000:00000   [ stack ]
ffffffffff600000    8192 ----- 0000000000000000 000:00000   [ anon ]
mapped: 211696K    writeable/private: 27004K    shared: 268K		
		</pre><p>系统调用</p><pre class="screen">

		</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s03.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s05.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">3. IO 瓶颈 </td><td width="20%" align="center"><a accesskey="h" href="../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 5. web server</td></tr></table></div></body></html>
