<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>100.2.Â Module</title><link rel="stylesheet" type="text/css" href="..//docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><meta name="keywords" content="&#10;bash,bunzip2,busybox,bzcat,bzcmp,bzdiff,bzegrep,bzexe,bzfgrep,bzgrep,bzip2,bzip2recover,bzless,bzmore,cat,chgrp,chmod,chown,chvt,cp,cpio,dash,date,dbus-cleanup-sockets,dbus-daemon,dbus-uuidgen,dd,df,dir,dmesg,dnsdomainname,domainname,dumpkeys,echo,ed,egrep,false,fgconsole,fgrep,fuser,fusermount,grep,gunzip,gzexe,gzip,hostname,ip,kbd_mode,kill,less,lessecho,lessfile,lesskey,lesspipe,ln,loadkeys,login,ls,lsmod,mkdir,mknod,mktemp,more,mount,mountpoint,mt,mt-gnu,mv,nano,nc,nc.openbsd,netcat,netstat,nisdomainname,ntfs-3g,ntfs-3g.probe,ntfs-3g.secaudit,ntfs-3g.usermap,open,openvt,pidof,ping,ping6,plymouth,ps,pwd,rbash,readlink,rm,rmdir,rnano,run-parts,sed,setfont,setupcon,sh,sh.distrib,sleep,static-sh,stty,su,sync,tailf,tar,tempfile,touch,true,ulockmgr_server,umount,uname,uncompress,unicode_start,vdir,which,ypdomainname,zcat,zcmp,zdiff,zegrep,zfgrep,zforce,zgrep,zless,zmore,znew,,/sbin/:,acpi_available,apm_available,apparmor_parser,badblocks,blkid,blockdev,bootlogd,cfdisk,crda,ctrlaltdel,debugfs,depmod,dhclient,dhclient3,dhclient-script,dmsetup,dosfsck,dosfslabel,dump,dumpe2fs,e2fsck,e2image,e2label,e2undo,ethtool,fdisk,findfs,fsck,fsck.cramfs,fsck.ext2,fsck.ext3,fsck.ext4,fsck.ext4dev,fsck.minix,fsck.msdos,fsck.nfs,fsck.vfat,fstab-decode,getty,halt,hdparm,hwclock,ifconfig,ifdown,ifquery,ifup,init,initctl,insmod,insserv,installkernel,ip,ip6tables,ip6tables-restore,ip6tables-save,ipmaddr,iptables,iptables-restore,iptables-save,iptunnel,isosize,iwconfig,iwevent,iwgetid,iwlist,iwpriv,iwspy,kbdrate,killall5,ldconfig,ldconfig.real,logsave,losetup,lsmod,MAKEDEV,mii-tool,mkdosfs,mke2fs,mkfs,mkfs.bfs,mkfs.cramfs,mkfs.ext2,mkfs.ext3,mkfs.ext4,mkfs.ext4dev,mkfs.minix,mkfs.msdos,mkfs.vfat,mkhomedir_helper,mkswap,modinfo,modprobe,mountall,mount.fuse,mount.nfs,mount.nfs4,mount.ntfs,mount.ntfs-3g,nameif,on_ac_power,pam_tally,parted,partprobe,pivot_root,plipconfig,plymouthd,pmap_dump,pmap_set,portmap,poweroff,rarp,raw,rdump,reboot,regdbdump,reload,resize2fs,restart,restore,rfkill,rmmod,route,rpc.statd,rrestore,rtacct,rtmon,runlevel,sfdisk,shadowconfig,showmount,shutdown,slattach,sm-notify,ss,start,startpar,start-stop-daemon,status,stop,sulogin,swapoff,swapon,switch_root,sysctl,tc,telinit,tune2fs,udevadm,udevd,umount.nfs,umount.nfs4,unix_chkpwd,unix_update,upstart-udev-bridge,ureadahead,wipefs,wpa_action,wpa_cli,wpa_supplicant&#10;&#9;&#9;&#9;, &#10;a2p,acyclic,addftinfo,addpart,afmtodit,animate,anytopnm,apg,apgbfm,apport-bug,apport-cli,apport-collect,apport-unpack,apropos,apt-cache,apt-cdrom,apt-config,apt-extracttemplates,apt-ftparchive,apt-get,aptitude,aptitude-create-state-bundle,aptitude-run-state-bundle,apt-key,apt-mark,apt-sortpkgs,arch,arping,asciitopgm,at,atktopbm,atq,atrm,awk,base64,basename,bashbug,batch,bc,bcomps,bconsole,bdftopcf,bdftops,bdftruncate,bioradtopgm,bmptopnm,bmptoppm,brushtopbm,bsd-mailx,bsd-write,byobu,byobu-config,byobu-export,byobu-janitor,byobu-launch,byobu-launcher,byobu-launcher-install,byobu-launcher-uninstall,byobu-reconnect-sockets,byobu-select-profile,byobu-select-session,byobu-status,byobu-status-detail,c2ph,cal,calendar,captoinfo,catchsegv,catman,cautious-launcher,ccomps,chage,chattr,chcon,check-bios-nx,check-language-support,chem,chfn,chkdupexe,chrt,chsh,circo,ckbcomp,ck-history,ck-launch-session,ck-list-sessions,cksum,clear,clear_console,cmp,cmuwmtopbm,codepage,col,colcrt,colrm,column,comm,compare,compose,composite,config_data,conjure,convert,corelist,cpan,cpan2dist,cpanp,cpanp-run-perl,cpp,cpp-4.4,createrepo,c_rehash,crontab,csplit,ctstat,curl,curlftpfs,cut,dbilogstrip,dbiprof,dbiproxy,dbmmanage,dbus-monitor,dbus-send,ddate,deallocvt,debconf,debconf-apt-progress,debconf-communicate,debconf-copydb,debconf-escape,debconf-set-selections,debconf-show,defoma,defoma-app,defoma-font,defoma-hints,defoma-id,defoma-psfont-installer,defoma-subst,defoma-user,delpart,dh_bash-completion,dh_installdefoma,dh_installxmlcatalogs,dh_pycentral,dh_pysupport,dialog,diff,diff3,diffimg,dig,dijkstra,dircolors,dirname,display,do-release-upgrade,dot,dot2gxl,dotlockfile,dotty,dpkg,dpkg-deb,dpkg-divert,dpkg-query,dpkg-split,dpkg-statoverride,dpkg-trigger,dprofpp,du,dumphint,dumpkeys,dvipdf,easy_install,easy_install-2.6,edit,editor,eject,enc2xs,encode_keychange,env,envsubst,eps2eps,epsffit,eqn,eqn2graph,ex,expand,expiry,expr,extractres,eyuvtoppm,factor,faillog,fallocate,fc-cache,fc-cat,fc-list,fc-match,fc-query,fc-scan,fdp,fiascotopnm,file,find,find2perl,findsmb,fitstopnm,fixdlsrps,fixfmps,fixmacps,fixproc,fixpsditps,fixpspps,fixscribeps,fixtpps,fixwfwps,fixwpps,fixwwps,flock,flow-capture,flow-cat,flow-dscan,flow-expire,flow-export,flow-fanout,flow-filter,flow-gen,flow-header,flow-import,flow-log2rrd,flow-mask,flow-merge,flow-nfilter,flow-print,flow-receive,flow-report,flow-rpt2rrd,flow-rptfmt,flow-send,flow-split,flow-stat,flow-tag,flow-xlate,fmt,fold,font2c,fontconfig-voodoo,fonttosfnt,fping,fping6,free,fribidi,from,fstopgm,ftp,funzip,g3topbm,gawk,gc,gdiffmk,gdk-pixbuf-query-loaders,gemtopbm,gemtopnm,gendiff,geqn,GET,getafm,getconf,getent,getkeycodes,getopt,gettext,gettext.sh,ghostscript,giftopnm,ginstall-info,gio-querymodules,git,git-receive-pack,git-shell,git-upload-archive,git-upload-pack,gmetric,gnokii,gnuplot,gnuplot-nox,gouldtoppm,gpasswd,gpg,gpgsplit,gpgv,gpg-zip,gpic,grap2graph,grn,grodvi,groff,groffer,grog,grolbp,grolj4,grops,grotty,groups,grub-bin2h,grub-editenv,grub-fstest,grub-mkelfimage,grub-mkfont,grub-mkimage,grub-mkisofs,grub-mkpasswd-pbkdf2,grub-mkrelpath,grub-mkrescue,grub-script-check,gs,gsbj,gsdj,gsdj500,gslj,gslp,gsnd,gstat,gtbl,gtk-query-immodules-2.0,gtk-update-icon-cache,gvcolor,gvimtutor,gvpack,gvpr,gxditview,gxl2dot,h2ph,h2xs,hd,head,HEAD,helpztags,hexdump,hipstopgm,host,hostid,hpftodit,htdbm,htdigest,htpasswd,i386,icontopbm,iconv,id,identify,igawk,ilbmtoppm,imgtoppm,import,includeres,indexer,indxbib,info,infobrowser,infocmp,infokey,infotocap,innochecksum,innotop,install,install-info,instmodsh,ionice,iostat,ipcmk,ipcrm,ipcs,ipmicmd,ipmilan,ipmish,ipmitool,ipmi_ui,iptables-xml,join,jpegtopnm,killall,kvm-ok,l4p-tmpl,landscape-sysinfo,last,lastb,lastlog,lcf,ldd,leaftoppm,lefty,less,lessecho,lessfile,lesskey,lesspipe,lexgrog,libnetcfg,line,link,linux32,linux64,linux-boot-prober,lispmtopgm,lkbib,lneato,lnstat,loadkeys,loadunimap,locale,localedef,locate,lockfile-check,lockfile-create,lockfile-remove,lockfile-touch,logger,logname,look,lookbib,lorder,lsattr,lsb_release,lscpu,lshw,lsof,lspci,lspgpot,lsusb,ltrace,lwp-download,lwp-dump,lwp-mirror,lwp-request,lwp-rget,lzcat,lzma,macptopbm,mail,Mail,mail-lock,mailq,mail-touchlock,mail-unlock,mailx,make,make-memtest86+-boot-floppy,make_method,man,mandb,manhole,manpath,mapscrn,mawk,mcookie,md5sum,md5sum.textutils,mdatopbm,memcached,mesg,mgrtopbm,mkfifo,mkfontdir,mkfontscale,mk_modmap,mktap,mlocate,mmroff,modifyrepo,mogrify,montage,motd+shell,mpstat,msql2mysql,mtr,mtvtoppm,munin-check,munin-cron,munindoc,mutt,mutt_dotlock,myisamchk,myisam_ftdump,myisamlog,myisampack,my_print_defaults,mysql,mysqlaccess,mysqladmin,mysqlanalyze,mysqlbinlog,mysqlbug,mysqlcheck,mysql_client_test,mysql_client_test_embedded,mysql_convert_table_format,mysqld_multi,mysqld_safe,mysqldump,mysqldumpslow,mysql_find_rows,mysql_fix_extensions,mysql_fix_privilege_tables,mysqlhotcopy,mysqlimport,mysql_install_db,mysqloptimize,mysqlrepair,mysqlreport,mysql_secure_installation,mysql_setpermission,mysqlshow,mysqlslap,mysqltest,mysqltest_embedded,mysql_tzinfo_to_sql,mysql_upgrade,mysql_waitpid,mysql_zap,mytop,namei,nano,nawk,ncal,ncat,ncftp,ncftp3,ncftpbatch,ncftpbookmarks,ncftpget,ncftpls,ncftpput,ncftpspooler,ncurses5-config,ncursesw5-config,ndiff,neato,neotoppm,neqn,net,netkit-ftp,net.samba3,net-snmp-config,netstat-nat,newaliases,newgrp,ngettext,nice,nl,nmap,nmblookup,nmblookup.samba3,nmon,nohup,nop,nroff,nslookup,nstat,nsupdate,od,oldfind,omshell,on_ac_power,openipmicmd,openipmish,openssl,openssl-vulnkey,os-prober,pager,palmtopnm,pamcut,pamdeinterlace,pamdice,pamfile,pamoil,pamstack,pamstretch,pamstretch-gen,paperconf,parsechangelog,partx,passwd,paste,patch,pathchk,pbmclean,pbmlife,pbmmake,pbmmask,pbmpage,pbmpscale,pbmreduce,pbmtext,pbmtextps,pbmto10x,pbmtoascii,pbmtoatk,pbmtobbnbg,pbmtocmuwm,pbmtoepsi,pbmtoepson,pbmtog3,pbmtogem,pbmtogo,pbmtoicon,pbmtolj,pbmtomacp,pbmtomda,pbmtomgr,pbmtonokia,pbmtopgm,pbmtopi3,pbmtoplot,pbmtoppa,pbmtopsg3,pbmtoptx,pbmtowbmp,pbmtox10bm,pbmtoxbm,pbmtoybm,pbmtozinc,pbmupc,pcimodules,pcretest,pcxtoppm,pdb,pdb2.6,pdb3,pdb3.1,pdf2dsc,pdf2ps,pdfopt,pdfroff,pear,peardev,pecl,peekfd,perl,perl5.10.1,perlbug,perldoc,perlivp,perlthanks,perror,pf2afm,pfbtopfa,pfbtops,pfc,pftp,pg,pgawk,pgmbentley,pgmcrater,pgmedge,pgmenhance,pgmhist,pgmkernel,pgmnoise,pgmnorm,pgmoil,pgmramp,pgmslice,pgmtexture,pgmtofs,pgmtolispm,pgmtopbm,pgmtoppm,pgrep,php,php5,pi1toppm,pi3topbm,pic,pic2graph,pico,piconv,pidstat,pinky,pip,pjtoppm,pkill,pl2pm,plog,pmap,pngtopnm,pnmalias,pnmarith,pnmcat,pnmcolormap,pnmcomp,pnmconvol,pnmcrop,pnmcut,pnmdepth,pnmenlarge,pnmfile,pnmflip,pnmgamma,pnmhisteq,pnmhistmap,pnmindex,pnminterp,pnminterp-gen,pnminvert,pnmmargin,pnmmontage,pnmnlfilt,pnmnoraw,pnmnorm,pnmpad,pnmpaste,pnmpsnr,pnmquant,pnmremap,pnmrotate,pnmscale,pnmscalefixed,pnmshear,pnmsmooth,pnmsplit,pnmtile,pnmtoddif,pnmtofiasco,pnmtofits,pnmtojpeg,pnmtopalm,pnmtoplainpnm,pnmtopng,pnmtops,pnmtorast,pnmtorle,pnmtosgi,pnmtosir,pnmtotiff,pnmtotiffcmyk,pnmtoxwd,pod2html,pod2latex,pod2man,pod2text,pod2usage,podchecker,podselect,poff,pon,POST,post-grohtml,ppm3d,ppmbrighten,ppmchange,ppmcie,ppmcolormask,ppmcolors,ppmdim,ppmdist,ppmdither,ppmfade,ppmflash,ppmforge,ppmhist,ppmlabel,ppmmake,ppmmix,ppmnorm,ppmntsc,ppmpat,ppmquant,ppmquantall,ppmqvga,ppmrainbow,ppmrelief,ppmshadow,ppmshift,ppmspread,ppmtoacad,ppmtobmp,ppmtoeyuv,ppmtogif,ppmtoicr,ppmtoilbm,ppmtojpeg,ppmtoleaf,ppmtolj,ppmtomap,ppmtomitsu,ppmtompeg,ppmtoneo,ppmtopcx,ppmtopgm,ppmtopi1,ppmtopict,ppmtopj,ppmtopuzz,ppmtorgb3,ppmtosixel,ppmtotga,ppmtouil,ppmtowinicon,ppmtoxpm,ppmtoyuv,ppmtoyuvsplit,ppmtv,pr,preconv,pre-grohtml,prename,print,printafm,printenv,printerbanner,printf,prove,prtstat,prune,ps2ascii,ps2epsi,ps2pdf,ps2pdf12,ps2pdf13,ps2pdf14,ps2pdfwr,ps2ps,ps2ps2,ps2txt,psbook,psed,psfaddtable,psfgettable,psfstriptable,psfxtable,psidtopgm,psmerge,psnup,psresize,psselect,pstopnm,pstops,pstree,pstree.x11,pstruct,ptar,ptardiff,ptx,pwdx,py3_compilefiles,pycentral,pyclean,pycompile,py_compilefiles,pydoc,pydoc2.6,pydoc3,pydoc3.1,pygettext,pygettext2.6,pygettext3,pygettext3.1,pyhtmlizer,python,python2,python2.6,python3,python3.1,pyversions,qrttoppm,rasttopnm,rawtopgm,rawtoppm,rcp,red,refer,rename,rename.ul,renice,replace,report-hw,reset,resolveip,resolve_stack_dump,rev,rgb3toppm,rgrep,rletopnm,rlogin,rmcp_ping,roff2dvi,roff2html,roff2pdf,roff2ps,roff2text,roff2x,routef,routel,rpcclient,rpcinfo,rpm,rpm2cpio,rpmbuild,rpmdb,rpmgraph,rpmquery,rpmsign,rpmverify,rrdcgi,rrdtool,rrdupdate,rsh,rsync,rtstat,runcon,run-mailcap,rview,rvim,s2p,sadf,sar,sar.sysstat,savelog,sbigtopgm,sccmap,scp,screen,screendump,screen-launcher,screen-profiles-status,script,scriptreplay,sdiff,search,searchd,see,select-editor,sendsms,sensible-browser,sensible-editor,sensible-pager,sensors,sensors-conf-convert,seq,service,setarch,setkeycodes,setleds,setlogcons,setmetamode,setpci,setsid,setterm,sftp,sg,sgitopnm,sha1sum,sha224sum,sha256sum,sha384sum,sha512sum,shasum,showchar,showconsolefont,showkey,shred,shuf,sirtopnm,skill,slabtop,sldtoppm,slogin,smbcacls,smbclient,smbcquotas,smbget,smbpasswd,smbspool,smbtar,smbtree,smime_keys,snice,snmpbulkget,snmpbulkwalk,snmpconf,snmpdelta,snmpdf,snmpget,snmpgetnext,snmpinform,snmpkey,snmpnetstat,snmpset,snmpstatus,snmptable,snmptest,snmptranslate,snmptrap,snmpusm,snmpvacm,snmpwalk,soelim,solterm,sort,spctoppm,spelldump,splain,split,splitfont,sputoppm,ssh,ssh-add,ssh-agent,ssh-argv0,ssh-copy-id,sshfs,ssh-keygen,ssh-keyscan,ssh-vulnkey,st4topgm,stat,strace,stream,sudo,sudoedit,sum,svn,svnadmin,svnauthz-validate,svndumpfilter,svnlook,svnmucc,svn-populate-node-origins-index,svnserve,svnsync,svnversion,tabs,tac,tail,tap2deb,tap2rpm,tapconvert,tasksel,taskset,tbl,tee,telnet,telnet.netkit,test,testparm,testparm.samba3,tfmtodit,tgatoppm,thinkjettopbm,tic,tifftopnm,time,tload,toe,top,touch,tput,tr,tracepath,tracepath6,traceroute6,traceroute6.iputils,traptoemail,tred,trial,troff,truncate,tset,tsort,tty,twistd,twopi,tzselect,ubuntu-bug,ubuntu-support-status,ucf,ucfq,ucfr,ucs2any,ul,unattended-upgrade,unattended-upgrades,unexpand,unflatten,unicode_stop,uniq,unlink,unlzma,unshare,unzip,unzipsfx,update-alternatives,updatedb,updatedb.mlocate,update-mime-database,update-mime-database.real,update-pciids,update-perl-sax-parsers,uptime,usb-devices,users,uuidgen,vi,view,vim,vim.basic,vimdiff,vim.tiny,vimtutor,vmstat,volname,w,w3m,w3mman,wall,watch,wbmptopbm,wc,webalizer,webazolver,wftopfa,wget,whatis,whereis,which,whiptail,who,whoami,winicontoppm,wpa_passphrase,w.procps,write,www-browser,X11,x86_64,x86_64-linux-gnu-cpp,x86_64-linux-gnu-cpp-4.4,xargs,xauth,xbmtopbm,ximtoppm,xpmtoppm,xsubpp,xtotroff,xvminitoppm,xwdtopnm,xxd,ybmtopbm,yes,yuvsplittoppm,yuvtoppm,zabbix_get,zdump,zeisstopnm,zipgrep,zipinfo,zsoelim,,/usr/sbin/:,a2dismod,a2dissite,a2enmod,a2ensite,aa-audit,aa-autodep,aa-complain,aa-decode,aa-enforce,aa-genprof,aa-logprof,aa-status,aa-unconfined,ab,accessdb,addgroup,add-shell,adduser,apache2,apache2ctl,apparmor_status,arp,arpd,atd,audit,autodep,bacula-console,bacula-fd,bandwidthd,bcrelay,biosdecode,brctl,bsmtp,btraceback,chat,check_forensic,checkgid,chgpasswd,chpasswd,chroot,ck-log-system-restart,ck-log-system-start,ck-log-system-stop,complain,console-kit-daemon,cpgr,cppw,cron,cytune,dbconfig-generate-include,dbconfig-load-include,defoma-reconfigure,delgroup,deluser,dmidecode,dpkg-divert,dpkg-preconfigure,dpkg-reconfigure,dpkg-statoverride,e2freefrag,enforce,ethtool,exicyclog,exigrep,exim,exim4,exim_checkaccess,exim_convert4r4,exim_dbmbuild,exim_dumpdb,exim_fixdb,exim_lock,eximstats,exim_tidydb,exinext,exipick,exiqgrep,exiqsumm,exiwhat,fancontrol,fdformat,filefrag,genprof,gmetad,gmond,gnokiid,groupadd,groupdel,groupmod,grpck,grpconv,grpunconv,grub-install,grub-mkconfig,grub-mkdevicemap,grub-probe,grub-reboot,grub-set-default,grub-setup,gss_clnt_send_err,gss_destroy_creds,htcacheclean,httxt2dbm,iconvconfig,install-info,install-sgmlcatalog,invoke-rc.d,ip6tables-apply,ipmievd,iptables-apply,irqbalance,isadump,isaset,laptop-detect,ldattach,libgraphviz4-config-update,locale-gen,login.radius,logprof,logresolve,logrotate,lsusb,make-ssl-cert,mgnokiidev,mkinitramfs,mkinitramfs-kpkg,mklost+found,munin-node,munin-node-configure,munin-run,mysqld,mysqlmanager,nagios3,nagios3stats,newusers,nfsstat,nologin,ntop,ntpd,ntpdate,ntpdate-debian,openntpd,openvpn,openvpn-vulnkey,ownership,pam-auth-update,pam_getenv,paperconfig,popcon-largest-unused,popularity-contest,pppconfig,pppd,pppdump,pppoeconf,pppoe-discovery,pppstats,pptpctrl,pptpd,pwck,pwconv,pwmconfig,pwunconv,radacct,radexample,radlogin,radstatus,ramsize,rdev,readprofile,remove-shell,rmail,rmt,rmt-dump,rmt-tar,rootflags,rotatelogs,rpcdebug,rpc.gssd,rpc.idmapd,rsmtp,rsyslogd,rtcwake,runq,safe_finger,sendmail,sensors-detect,service,setvesablank,snmpd,snmptrapd,spine,split-logfile,sshd,syslog2eximlog,tcpd,tcpdchk,tcpdmatch,tcpdump,try-from,tunelp,tzconfig,ufw,unconfined,update-alternatives,update-bootsystem-insserv,update-ca-certificates,update-catalog,update-exim4.conf,update-exim4.conf.template,update-exim4defaults,update-fonts-alias,update-fonts-dir,update-fonts-scale,update-gdkpixbuf-loaders,update-grub,update-grub2,update-gtk-immodules,update-icon-caches,update-inetd,update-info-dir,update-initramfs,update-locale,update-mime,update-pangox-aliases,update-passwd,update-python-modules,update-rc.d,update-rc.d-insserv,update-usbids,update-xmlcatalog,upgrade-from-grub-legacy,useradd,userdel,usermod,uuidd,validlocale,vcstime,vidmode,vigr,vipw,visudo,vpddecode,vsftpd,xl2tpd,zabbix_server,zic&#10;&#9;&#9;&#9;" /><link rel="home" href="../index.html" title="Netkiller Linux ææ­" /><link rel="up" href="lamp.html" title="ç¬¬Â 100Â ç« Â Apache httpd" /><link rel="prev" href="lamp.html" title="ç¬¬Â 100Â ç« Â Apache httpd" /><link rel="next" href="lamp.referal.html" title="100.3.Â è¨­ç½®Apacheå¯¦ç¾é²çé£" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">100.2.Â Module</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="lamp.html">ä¸ä¸é </a>Â </td><th width="60%" align="center">ç¬¬Â 100Â ç« Â Apache httpd</th><td width="20%" align="right">Â <a accesskey="n" href="lamp.referal.html">ä¸ä¸é </a></td></tr></table><hr /></div><table xmlns="" width="100%" border="0"><tr><td align="left"><a href="http://netkiller.github.io/">Home</a> |
        <a href="http://netkiller.sourceforge.net/">Mirror</a> |
        <a href="/search.html">Search</a> |
        <a href="http://netkiller-github-com.iteye.com/">ITEYE åå®¢</a> |
        <a href="http://my.oschina.net/neochen/">OSChina åå®¢</a> |
        <a href="http://rline.blog.51cto.com/">51CTO åå®¢</a></td><td><div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare"><a class="bds_fbook"></a><a class="bds_twi"></a><a class="bds_ms"></a><a class="bds_msn"></a><a class="bds_buzz"></a><a class="bds_linkedin"></a><a class="bds_deli"></a><a class="bds_qzone"></a><a class="bds_qq"></a><a class="bds_tqq"></a><a class="bds_tqf"></a><a class="bds_tsina"></a><a class="bds_baidu"></a><a class="bds_renren"></a><a class="bds_t163"></a><a class="bds_tfh"></a><a class="bds_douban"></a><a class="bds_hi"></a><a class="bds_tieba"></a><a class="bds_tsohu"></a><span class="bds_more"></span><a class="shareCount"></a></div><script type="text/javascript" id="bdshare_js" data="type=tools"></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript">
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + new Date().getHours();
</script></td><td><form id="searchbox_008589143145807374698:f5uprauilyy" action="/search.html"><input type="hidden" name="cx" value="008589143145807374698:f5uprauilyy" /><input type="hidden" name="cof" value="FORID:11" /><input name="q" type="text" size="25" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; " /><input type="submit" name="sa" value="Search" /><input name="siteurl" type="hidden" value="http://netkiller.sourceforge.net/" /></form><script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_008589143145807374698%3Af5uprauilyy"></script></td></tr></table><div class="section" title="100.2.Â Module"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="httpd.module"></a>100.2.Â Module</h2></div></div></div><pre class="screen">
æ¨¡çµçåç¨å¦ä¸ï¼
mod_access 	æä¾åºäºä¸»æ©çè¨ªåæ§å¶å½ä»¤
mod_actions è½å¤ éè¡åºäºMIMEé¡åçCGIè³æ¬æHTTPè«æ±æ¹æ³
mod_alias 	è½å·è¡URLéå®åæå
mod_asis 	ä½¿ææªè½å¨æ²æHTTPé ­æ¨çææ³ä¸è¢«ç¼éå°å®¢æ¶ç«¯
mod_auth 	æ¯æä½¿ç¨å­å²å¨ææ¬æªæ¡ä¸­çç¨æ¶åãå£ä»¤å¯¦ç¾èªè­
mod_auth_dbm æ¯æä½¿ç¨DBMæªæ¡å­å²åºæ¬HTTPèªè­
mod_auth_mysql æ¯æä½¿ç¨MySQLè³æåº«å¯¦ç¾åºæ¬HTTPèªè­
mod_auth_anon åè¨±ä»¥å¿åæ¹å¼è¨ªåéè¦èªè­çåå
mod_auth_externalæ¯æä½¿ç¨ç¬¬ä¸æ¹èªè­
mod_autoindex ç¶ç¼ºå°ç´¢å¼æªæ¡æï¼èªåçæåæç®éåè¡¨
mod_cern_meta æä¾å°åä¿¡æ¯çæ¯æ
mod_cgi 	æ¯æCGI
mod_dir 	è½å¤ éå®åä»»ä½å°ä¸åæ¬å°¾é¨ææ å­åå½ä»¤çè«æ±
mod_env 	ä½¿ä½ è½å¤ å°ç°å¢è®æ¸å³éçµ¦CGIæSSIè³æ¬
mod_expires è®ä½ ç¢ºå®Apacheå¨ä¼ºæå¨é¿æè«æ±æå¦ä½èçExpires
mod_headers è½å¤ æä½HTTPæç­é ­æ¨
mod_imap 	æä¾åå½¢æ å°æ¯æ
mod_include ä½¿æ¯æSSI
mod_info 	å°ä¼ºæå¨éç½®æä¾äºå¨é¢çæè¿°
mod_log_agent åè¨±å¨å®ç¨çæ¥èªæªæ¡ä¸­å­å²ç¨æ¶ä»£ççä¿¡æ¯
mod_log_config æ¯æè¨éæ¥èª
mod_log_referer æä¾äºå°è«æ±ä¸­çRefereré ­æ¨å¯«å¥æ¥èªçåè½
mod_mime ç¨ä¾åå®¢æ¶ç«¯æä¾æéææªçåä¿¡æ¯
mod_negotiation æä¾äºå°å§å®¹ååçæ¯æ
mod_setenvif ä½¿ä½ è½å¤ åµå»ºå®è£½ç°å¢è®æ¸
mod_speling ä½¿ä½ è½å¤ èçå«ææ¼å¯«é¯èª¤æå¤§å°å¯«é¯èª¤çURLè«æ±
mod_status 	åè¨±ç®¡çå¡ééWEBç®¡çApache
mod_unique_id çºæ¯åè«æ±æä¾å¨éå¸¸ç¹æ®çæ¢ä»¶ä¸ä¿è­æ¯å¯ä¸çæ¨è­
	</pre><p>å¸¸ç¨æ¨¡çµ</p><pre class="screen">
LoadModule dir_module         modules/mod_dir.so
LoadModule mime_module        modules/mod_mime.so
LoadModule expires_module     modules/mod_expires.so
LoadModule config_log_module  modules/mod_log_config.so
LoadModule alias_module       modules/mod_alias.so
LoadModule rewrite_module     modules/mod_rewrite.so
LoadModule access_module      modules/mod_access.so
LoadModule auth_module        modules/mod_auth.so
	</pre><div class="section" title="100.2.1.Â Output a list of modules compiled into the server."><div class="titlepage"><div><div><h3 class="title"><a id="idp13130160"></a>100.2.1.Â Output a list of modules compiled into the server. </h3></div></div></div><p>This will not list dynamically loaded modules included using the LoadModule directive.</p><pre class="screen">
[root@development bin]# httpd -l
Compiled in modules:
  core.c
  worker.c
  http_core.c
  mod_so.c
		</pre></div><div class="section" title="100.2.2.Â Core"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.core"></a>100.2.2.Â Core</h3></div></div></div><div class="section" title="100.2.2.1.Â Listen"><div class="titlepage"><div><div><h4 class="title"><a id="idp13132160"></a>100.2.2.1.Â Listen</h4></div></div></div><p>ç¶å®å¤åIP</p><pre class="screen">
#Listen 80
Listen 192.168.3.40:80
Listen 192.168.4.40:80
Listen 192.168.5.40:80
			</pre></div><div class="section" title="100.2.2.2.Â Filesystem and Webspace"><div class="titlepage"><div><div><h4 class="title"><a id="idp13133552"></a>100.2.2.2.Â Filesystem and Webspace</h4></div></div></div><p>ref: http://httpd.apache.org/docs/2.2/en/sections.html</p><p>Filesystem Containers</p><pre class="screen">
			
&lt;Directory /var/web/dir1&gt;
	Options +Indexes
&lt;/Directory&gt;

&lt;Files private.html&gt;
	Order allow,deny
	Deny from all
&lt;/Files&gt;

&lt;Directory /var/web/dir1&gt;
	&lt;Files private.html&gt;
		Order allow,deny
		Deny from all
	&lt;/Files&gt;
&lt;/Directory&gt;
			
			</pre><p>Webspace Containers</p><pre class="screen">
			
&lt;LocationMatch ^/private&gt;
	Order Allow,Deny
	Deny from all
&lt;/LocationMatch&gt;
			
			</pre><p>Wildcards and Regular Expressions</p><pre class="screen">
			
A non-regex wildcard section that changes the configuration of all user directories could look as follows:

&lt;Directory /home/*/public_html&gt;
Options Indexes
&lt;/Directory&gt;
Using regex sections, we can deny access to many types of image files at once:

&lt;FilesMatch \.(?i:gif|jpe?g|png)$&gt;
Order allow,deny
Deny from all
&lt;/FilesMatch&gt;
			
			</pre><div class="section" title="100.2.2.2.1.Â Options"><div class="titlepage"><div><div><h5 class="title"><a id="options"></a>100.2.2.2.1.Â Options</h5></div></div></div><pre class="screen">
				
&lt;DirectoryMatch (/var/www/logs|/var/www/logs/*)&gt;
        Options FollowSymLinks MultiViews Indexes

        DirectoryIndex index.html

        AllowOverride AuthConfig
        Order Allow,Deny
        Allow From All

        AuthName "Logs Access"
        AuthType Basic
        AuthUserFile /etc/nagios3/htpasswd.users
        require valid-user
&lt;/DirectoryMatch&gt;
				
				</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Noneæ¯ç¦æ­¢ææ</p></li><li class="listitem"><p>Indexes ç¶æ²æindex.html çæåååºç®é</p></li><li class="listitem"><p>FollowSymLinks åè¨±ç¬¦èé£æ¥ï¼å¯ä»¥ééç¬¦èé£æ¥è·¨è¶DocumentRoot</p></li><li class="listitem"><p>AllowOverride å®ç¾©æ¯å¦åè¨±ååç®éç¨ç®éä¸­ç.htaccessè¦èéè£¡è¨­å®çOptions</p></li><li class="listitem"></li></ol></div></div></div><div class="section" title="100.2.2.3.Â Etag"><div class="titlepage"><div><div><h4 class="title"><a id="idp13142080"></a>100.2.2.3.Â Etag</h4></div></div></div><pre class="screen">
			
&lt;Directory /www&gt;
	&lt;Files ~ "\.(gif|jpe?g|png|html|css|js)$"&gt;
		FileETag INode MTime Size
	&lt;/Files&gt;
&lt;/Directory&gt;
			
			</pre></div><div class="section" title="100.2.2.4.Â é±è Apache çæ¬ä¿¡æ¯"><div class="titlepage"><div><div><h4 class="title"><a id="idp13143104"></a>100.2.2.4.Â é±è Apache çæ¬ä¿¡æ¯</h4></div></div></div><pre class="screen">
ServerTokens ProductOnly
ServerSignature Off
			</pre></div></div><div class="section" title="100.2.3.Â mpm"><div class="titlepage"><div><div><h3 class="title"><a id="mpm"></a>100.2.3.Â mpm</h3></div></div></div><div class="section" title="100.2.3.1.Â event"><div class="titlepage"><div><div><h4 class="title"><a id="idp13144752"></a>100.2.3.1.Â event</h4></div></div></div><p>ThreadLimit éè¦èªè¡æ·»å </p><p>ServerLimit éè¦èªè¡æ·»å </p><pre class="screen">
			
&lt;IfModule mpm_event_module&gt;
    ThreadLimit			256
    ServerLimit			4096
    StartServers             4
    MinSpareThreads         75
    MaxSpareThreads        250
    ThreadsPerChild        128
    MaxRequestWorkers      4096
    MaxConnectionsPerChild   0
&lt;/IfModule&gt;
			
			</pre></div><div class="section" title="100.2.3.2.Â worker"><div class="titlepage"><div><div><h4 class="title"><a id="httpd.worker"></a>100.2.3.2.Â worker</h4></div></div></div><p>worker</p><pre class="screen">
# Server-pool management (MPM specific)
Include conf/extra/httpd-mpm.conf
			</pre><p>conf/extra/httpd-mpm.conf</p><p>mpm_worker_module</p><pre class="screen">
			
&lt;IfModule mpm_worker_module&gt;
    ServerLimit         16
    ThreadLimit         128
    StartServers        8
    MaxClients          2048
    MinSpareThreads     64
    MaxSpareThreads     128
    ThreadsPerChild     128
    MaxRequestsPerChild 10000
&lt;/IfModule&gt;

&lt;IfModule mpm_worker_module&gt;
    ServerLimit         24
    ThreadLimit         128
    StartServers        8
    MaxClients          3072
    MinSpareThreads     64
    MaxSpareThreads     128
    ThreadsPerChild     128
    MaxRequestsPerChild 10000
&lt;/IfModule&gt;

&lt;IfModule mpm_worker_module&gt;
    ServerLimit         16
    ThreadLimit         256
    StartServers        8
    MaxClients          4096
    MinSpareThreads     64
    MaxSpareThreads     256
    ThreadsPerChild     256
    MaxRequestsPerChild 10000
&lt;/IfModule&gt;

			
			</pre><pre class="screen">
			
ServerLimit é è¨­æ¯16ï¼å®æ±ºå®ç³»çµ±æå¤ååå¹¾åhttpdé²ç¨ã
ThreadLimit é è¨­æ¯64ï¼
ThreadsPerChild* ServerLimit=ç³»çµ±æ¯æçæå¤§ä¸¦ç¼ã
MaxClients&lt;ThreadsPerChild* ServerLimitï¼MaxClientså¦æå¤§æ¼400å°è¢«éå¶å¨400.
400åªæ¯çè«æå¤§ä¸¦ç¼ï¼å¯¦éä¸¦ç¼å°±æ¯MaxClientsçå¼ã
çè«ä¸¦ç¼æä»éº¼ç¨æä¸ç¥éã


æä»¤èªªæï¼
        StartServersï¼è¨­ç½®ä¼ºæå¨ååæå»ºç«çå­é²ç¨æ¸éãå çºå­é²ç¨æ¸éåæçåæ±ºæ¼è² è¼çè¼é,ææä¸è¬æ²æå¿è¦èª¿æ´éååæ¸ã
        ServerLimitï¼ä¼ºæå¨åè¨±éç½®çé²ç¨æ¸ä¸éãåªæå¨ä½ éè¦å°MaxClientsåThreadsPerChildè¨­ç½®æéè¦è¶éé è¨­å¼16åå­é²ç¨çæåæéè¦ä½¿ç¨éåæä»¤ãä¸è¦å°è©²æä»¤çå¼è¨­ç½®çæ¯MaxClients åThreadsPerChildéè¦çå­é²ç¨æ¸éé«ãä¿®æ¹æ­¤æä»¤çå¼å¿é å®å¨åæ­¢æåå¾åååæè½çæï¼ä»¥restartæ¹å¼éååå°ä¸æçæã
        ThreadLimitï¼è¨­ç½®æ¯åå­é²ç¨å¯éç½®çç¶«ç¨æ¸ThreadsPerChildä¸é,è©²æä»¤çå¼æç¶åThreadsPerChildå¯è½éå°çæå¤§å¼ä¿æä¸è´ãä¿®æ¹æ­¤æä»¤çå¼å¿é å®å¨åæ­¢æåå¾åååæè½çæï¼ä»¥restartæ¹å¼éååå°ä¸æçæã
        MaxClientsï¼ç¨æ¼ä¼ºæå®¢æ¶ç«¯è«æ±çæå¤§æ¥å¥è«æ±æ¸éï¼æå¤§ç¶«ç¨æ¸ï¼ãä»»ä½è¶éMaxClientséå¶çè«æ±é½å°é²å¥ç­åéåãé è¨­å¼æ¯"400"ï¼16 (ServerLimit)ä¹ä»¥25(ThreadsPerChild)ççµæãå æ­¤è¦å¢å MaxClientsçæåï¼ä½ å¿é åæå¢å  ServerLimitçå¼ãç­èå»ºè­°å°åå§å¼è¨­çº(ä»¥Mbçºå®ä½çæå¤§ç©çå§å­/2),ç¶å¾æ ¹æè² è¼ææ³é²è¡åæèª¿æ´ãæ¯å¦ä¸å°4Gå§å­çæ©å¨ï¼é£éº¼åå§å¼å°±æ¯4000/2=2000ã
        MinSpareThreadsï¼æå°ç©ºéç¶«ç¨æ¸,é è¨­å¼æ¯"75"ãéåMPMå°åºäºæ´åä¼ºæå¨ç£è¦ç©ºéç¶«ç¨æ¸ãå¦æä¼ºæå¨ä¸­ç¸½çç©ºéç¶«ç¨æ¸å¤ªå°ï¼å­é²ç¨å°ç¢çæ°çç©ºéç¶«ç¨ã
        MaxSpareThreadsï¼è¨­ç½®æå¤§ç©ºéç¶«ç¨æ¸ãé è¨­å¼æ¯"250"ãéåMPMå°åºäºæ´åä¼ºæå¨ç£è¦ç©ºéç¶«ç¨æ¸ãå¦æä¼ºæå¨ä¸­ç¸½çç©ºéç¶«ç¨æ¸å¤ªå¤ï¼å­é²ç¨å°æ®ºæ­»å¤é¤çç©ºéç¶«ç¨ãMaxSpareThreadsçåå¼ç¯åæ¯æéå¶çãApacheå°æç§å¦ä¸éå¶èªåä¿®æ­£ä½ è¨­ç½®çå¼ï¼workerè¦æ±å¶å¤§æ¼ç­æ¼ MinSpareThreadså ä¸ThreadsPerChildçåã
        ThreadsPerChildï¼æ¯åå­é²ç¨å»ºç«çç¶«ç¨æ¸ãé è¨­å¼æ¯25ãå­é²ç¨å¨ååæå»ºç«éäºç¶«ç¨å¾å°±ä¸åå»ºç«æ°çç¶«ç¨äºãæ¯åå­é²ç¨æææçææç·ç¨çç¸½æ¸è¦è¶³å¤ å¤§ï¼ä»¥ä¾¿å¯ä»¥èçå¯è½çè«æ±é«å³°ã
        MaxRequestsPerChildï¼è¨­ç½®æ¯åå­é²ç¨å¨å¶çå­æå§åè¨±ä¼ºæçæå¤§è«æ±æ¸éãå°éMaxRequestsPerChildçéå¶å¾ï¼å­é²ç¨å°æçµæãå¦æMaxRequestsPerChildçº"0"ï¼å­é²ç¨å°æ°¸é ä¸æçµæãå°MaxRequestsPerChildè¨­ç½®æéé¶å¼æå©åå¥½èï¼å¯ä»¥é²æ­¢(å¶ç¶ç)å§å­æ³æ¼ç¡éé²è¡èèç¡å§å­ï¼
çµ¦é²ç¨ä¸åæéå£½å½ï¼å¾èæå©äºç¶ä¼ºæå¨è² è¼æ¸è¼çæåæ¸å°æ´»åé²ç¨çæ¸éã
å¦æè¨­ç½®çºéé¶å¼ï¼ç­èå»ºè­°è¨­çº10000-30000ä¹éçä¸åå¼ã
         å¬å¼ï¼
         ThreadLimit &gt;= ThreadsPerChild
         MaxClients &lt;= ServerLimit * ThreadsPerChild å¿é æ¯ThreadsPerChildçåæ¸
         MaxSpareThreads &gt;= MinSpareThreads+ThreadsPerChild
			
			</pre></div></div><div class="section" title="100.2.4.Â Apache Log"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.log"></a>100.2.4.Â Apache Log</h3></div></div></div><div class="section" title="100.2.4.1.Â LogLevel"><div class="titlepage"><div><div><h4 class="title"><a id="idp13154656"></a>100.2.4.1.Â LogLevel</h4></div></div></div><p>æ¥èªç´å¥</p><p>èªæ³ï¼LogLevel level</p><pre class="screen">
å¯ä»¥é¸æä¸ålevelï¼ä¾ç§éè¦æ§éåºæåï¼
emerg ãç·æ¥(ç³»çµ±ç¡æ³ä½¿ç¨)
alert ãå¿é ç«å³æ¡åæªæ½
crit ã	è´å½ææ³
error ãé¯èª¤ææ³
warn ã	è­¦åææ³
notice 	ä¸è¬éè¦ææ³
info ã æ®éä¿¡æ¯
debug ãèª¿è©¦ä¿¡æ¯
			</pre><pre class="screen">
LogLevel crit
			</pre></div><div class="section" title="100.2.4.2.Â LogFormat"><div class="titlepage"><div><div><h4 class="title"><a id="idp13156960"></a>100.2.4.2.Â LogFormat</h4></div></div></div><p>åå²logæ¥èªæªæ¡</p><pre class="screen">
			
&lt;IfModule log_config_module&gt;
    #
    # The following directives define some format nicknames for use with
    # a CustomLog directive (see below).
    #
    #LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %{email}C %{nickname}C" combined
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common

    &lt;IfModule logio_module&gt;
      # You need to enable mod_logio.c to use %I and %O
      LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
    &lt;/IfModule&gt;

    #
    # The location and format of the access logfile (Common Logfile Format).
    # If you do not define any access logfiles within a &lt;VirtualHost&gt;
    # container, they will be logged here.  Contrariwise, if you *do*
    # define per-&lt;VirtualHost&gt; access logfiles, transactions will be
    # logged therein and *not* in this file.
    #
    #CustomLog logs/access_log common

    #
    # If you prefer a logfile with access, agent, and referer information
    # (Combined Logfile Format) you can use the following directive.
    #
    CustomLog logs/access_log combined

    #CookieLog logs/cookie_log
&lt;/IfModule&gt;

			</pre></div><div class="section" title="100.2.4.3.Â Compressed"><div class="titlepage"><div><div><h4 class="title"><a id="idp13159472"></a>100.2.4.3.Â Compressed</h4></div></div></div><pre class="screen">
			
# compressed logs
$ CustomLog "|/usr/bin/gzip -c &gt;&gt; /var/log/access_log.gz" common
			
			</pre></div><div class="section" title="100.2.4.4.Â rotatelogs - Piped logging program to rotate Apache logs"><div class="titlepage"><div><div><h4 class="title"><a id="idp13160528"></a>100.2.4.4.Â rotatelogs - Piped logging program to rotate Apache logs</h4></div></div></div><p>rotatelogsæ¯ä¸åéåApacheç®¡éæ¥èªåè½ä½¿ç¨çç°¡å®ç¨åºãèä¾ï¼</p><pre class="screen">
rotatelogs logfile [ rotationtime [ offset ]] | [ filesizeM ]

é¸é 
logfile
å®å ä¸åºæºåå°±æ¯æ¥èªæªæ¡åãå¦ælogfileä¸­åå«â%'ï¼åå®æè¢«è¦çºç¨æ¼çstrftime(3)çæ ¼å¼å­ä¸²ï¼å¦åï¼å®æè¢«èªåå ä¸ä»¥ç§çºå®ä½ç.nnnnnnnnnnå°¾ç¢¼ãéå©ç¨®æ ¼å¼é½è¡¨ç¤ºæ°çæ¥èªéå§ä½¿ç¨çæéã
rotationtime
æ¥èªæªæ¡åæ²çä»¥ç§çºå®ä½çééæé
offset
ç¸å°æ¼UTCçæå·®çåéæ¸ãå¦æçç¥ï¼ååå®çº0ï¼ä¸¦ä½¿ç¨UTCæéãæ¯å¦ï¼è¦æå®UTCæå·®çº-5å°æçå°åçç¶å°æéï¼åæ­¤åæ¸æçº-300ã
filesizeM
æå®åæ²æä»¥åä½åçµçºå®ä½çå°¾ç¢¼å­æ¯Mçæªæ¡å¤§å°ï¼èä¸æ¯æå®åæ²æéææå·®ã

ä¸åæ¥èªæªæ¡æ ¼å¼å­ä¸²å¯ä»¥çºææçstrftime(3)å¯¦ç¾ææ¯æï¼è¦åç¨®æ´å±åº«å°æçstrftime(3)çæåã
%A ææåå¨ç¨±(æ¬å°ç)
%a 3åå­åçææå(æ¬å°ç)
%B æä»½åçå¨ç¨±(æ¬å°ç)
%b 3åå­åçæä»½å(æ¬å°ç)
%c æ¥æåæé(æ¬å°ç)
%d 2ä½æ¸çä¸åæä¸­çæ¥ææ¸
%H 2ä½æ¸çå°ææ¸(24å°æå¶)
%I 2ä½æ¸çå°ææ¸(12å°æå¶)
%j 3ä½æ¸çä¸å¹´ä¸­çæ¥ææ¸
%M 2ä½æ¸çåéæ¸
%m 2ä½æ¸çæä»½æ¸
%p am/pm 12å°æå¶çä¸ä¸å(æ¬å°ç)
%S 2ä½æ¸çç§æ¸
%U 2ä½æ¸çä¸å¹´ä¸­çæææ¸(ææå¤©çºä¸å¨çç¬¬ä¸å¤©)
%W 2ä½æ¸çä¸å¹´ä¸­çæææ¸(ææä¸çºä¸å¨çç¬¬ä¸å¤©)
%w 1ä½æ¸çææå¹¾(ææå¤©çºä¸å¨çç¬¬ä¸å¤©)
%X æé (æ¬å°ç)
%x æ¥æ (æ¬å°ç)
%Y 4ä½æ¸çå¹´ä»½

CustomLog "|bin/rotatelogs /var/logs/logfile 86400" common
æ­¤éç½®æå»ºç«æªæ¡"/var/logs/logfile.nnnn"ï¼å¶ä¸­çnnnnæ¯åç¾©ä¸çæ¥èªååæçç³»çµ±æé(æ­¤æéç¸½æ¯æ»¾åæéçåæ¸ï¼å¯ä»¥ç¨æ¼cronè³æ¬çåæ­¥)ãå¨æ»¾åæéå°éæ(å¨æ­¤ä¾ä¸­æ¯24å°æä»¥å¾)ï¼æç¢çä¸åæ°çæ¥èªã

CustomLog "|bin/rotatelogs /var/logs/logfile 5M" common
æ­¤éç½®æå¨æ¥èªæªæ¡å¤§å°å¢é·å°5åä½åçµææ»¾åè©²æ¥èªã

ErrorLog "|bin/rotatelogs /var/logs/errorlog.%Y-%m-%d-%H_%M_%S 5M"
æ­¤éç½®æå¨é¯èª¤æ¥èªå¤§å°å¢é·å°5åä½åçµææ»¾åè©²æ¥èªï¼æ¥èªæªæ¡åå°¾ç¢¼ææç§å¦ä¸æ ¼å¼åµå»ºï¼errorlog.YYYY-mm-dd-HH_MM_SS

ErrorLog "| /usr/local/apache/bin/rotatelogs /www/logs/www.example.com/error_%Y_%m_%d_log 86400 480"
CustomLog "| /usr/local/apache/bin/rotatelogs /www/logs/www.example.com/access_%Y_%m_%d_log 86400 480" common

CustomLog "|/usr/local/httpd/bin/rotatelogs /www/logs/www.example.com/access.%Y-%m-%d.log 86400 480" combined
			</pre></div><div class="section" title="100.2.4.5.Â cronolog"><div class="titlepage"><div><div><h4 class="title"><a id="idp13164416"></a>100.2.4.5.Â cronolog</h4></div></div></div><p>cronolog</p><pre class="screen">
cd /usr/local/src/
wget http://cronolog.org/download/cronolog-1.6.2.tar.gz
tar zxvf cronolog-1.6.2.tar.gz
cd cronolog-1.6.2
./configure --prefix=/usr/local/cronolog
make
make install
			</pre><p>CustomLog "|/usr/local/cronolog/sbin/cronolog /opt/apache/logs/access_log.%Y%m%d" combined</p></div><div class="section" title="100.2.4.6.Â æ¥èªåä½µ"><div class="titlepage"><div><div><h4 class="title"><a id="idp13166816"></a>100.2.4.6.Â æ¥èªåä½µ</h4></div></div></div><p>åä½µå¤åä¼ºæå¨çæ¥èªæªæ¡ï¼å¦log1ãlog2ãlog3ï¼ï¼ä¸¦è¼¸åºå°log_allä¸­çæ¹æ³æ¯ï¼</p><pre class="screen">
 $ sort -m -t " " -k 4 -o log_all log1 log2 log3
			</pre></div><div class="section" title="100.2.4.7.Â æ¥èªæ­¸æª"><div class="titlepage"><div><div><h4 class="title"><a id="idp13168192"></a>100.2.4.7.Â æ¥èªæ­¸æª</h4></div></div></div><pre class="screen">
30 4 * * * /usr/bin/gzip -f /www/logs/access.`date -d yesterday +%Y-%m-%d`.log
			</pre></div><div class="section" title="100.2.4.8.Â logger"><div class="titlepage"><div><div><h4 class="title"><a id="idp13169136"></a>100.2.4.8.Â logger</h4></div></div></div><p>https://www.sit.auckland.ac.nz/Logging_to_syslog_with_Apache</p><pre class="screen">
			
Logging to syslog with Apache

First you will need to install syslog-ng. This is the logging server that will send the log data to the syslog box.

apt-get update &amp;&amp; apt-get install syslog-ng
syslog-ng uses a socket device to accept data from apache or whatever program is creating the logs.

Use the configuration here: Syslog-ng default config.

The first part indicates what the socket will be called and where it will live. The second part tells syslog-ng where to send the collected data. The restart syslog-ng (/etc/init.d/syslog-ng restart)l.

Configure apache's logging

Add these directives to send apache's logs via a socket to syslog

CustomLog "|/usr/bin/logger -s -t 'monitor.cs.auckland.ac.nz' -p info -u /var/log/apache_log.socket" Combined
ErrorLog "|/usr/bin/logger -s -t 'monitor.cs.auckland.ac.nz' -p err -u /var/log/apache_log.socket"
Apache will then use the logger program to send data to syslog. /var/log/apache_log.socket refers to the device that syslog-ng has created. Data sent to this device is sent over the network to the main syslog box.

Troubleshooting

It seems that apache 2.0.54-5 does not like logging to a file and to a process at the same time. In this case log entries will become re-ordered or missed out. You can use the test scripts below to check if this is happening.

Testing

Here are some useful scripts that can help with testing to make sure the logging is working as expected.

You can simulate http accesses using lynx with this command:

watch lynx -source http://monitor.cs.auckland.ac.nz/
Which will make a http request every two seconds. Or, for a better test:

for i in `seq 1 100`; do lynx -source http://monitor.cs.auckland.ac.nz/$i;sleep 3;done
The result of this test is a sequence of log entires from 1 to 100. If entries are missing or in the wrong order, you know there is a problem.
			
			</pre></div><div class="section" title="100.2.4.9.Â other"><div class="titlepage"><div><div><h4 class="title"><a id="idp13172384"></a>100.2.4.9.Â other</h4></div></div></div><pre class="screen">
CustomLog "|/usr/bin/your_script" Combined
ErrorLog "|/usr/bin/your_script"
			</pre></div></div><div class="section" title="100.2.5.Â mod_access"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.mod_access"></a>100.2.5.Â mod_access</h3></div></div></div><pre class="screen">
		
&lt;Directory /www&gt;
  Order Allow,Deny
&lt;/Directory&gt;

&lt;Directory /www&gt;
	Order Deny,Allow
	Deny from all
	Allow from apache.org
&lt;/Directory&gt;


&lt;Directory /www&gt;
	Order Allow,Deny
	Allow from apache.org
	Deny from foo.apache.org
&lt;/Directory&gt;
		
		</pre><pre class="screen">
A (partial) domain-name
Example: Allow from apache.org

A full IP address
Example: Allow from 10.1.2.3

A partial IP address
Example: Allow from 10.1

A network/netmask pair
Example: Allow from 10.1.0.0/255.255.0.0

A network/nnn CIDR specification
Example: Allow from 10.1.0.0/16
		</pre><pre class="screen">
		
&lt;DirectoryMatch (/usr/share/nagios3/htdocs|/usr/lib/cgi-bin/nagios3|/etc/nagios3/stylesheets)&gt;
        Options FollowSymLinks

        DirectoryIndex index.html

        AllowOverride AuthConfig
        Order Allow,Deny
        Allow From All

        AuthName "Nagios Access"
        AuthType Basic
        AuthUserFile /etc/nagios3/htpasswd.users
        # nagios 1.x:
        #AuthUserFile /etc/nagios/htpasswd.users
        require valid-user
&lt;/DirectoryMatch&gt;
		
		</pre><p>Apache httpd 2.4.x</p><pre class="screen">
		
    &lt;Directory "/www/www.example.com"&gt;
	        Options Indexes FollowSymLinks
	        AllowOverride None
	        Require all granted
    &lt;/Directory&gt;
		
		</pre></div><div class="section" title="100.2.6.Â VirtualHost"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.vhost"></a>100.2.6.Â VirtualHost</h3></div></div></div><p>conf/extra/httpd-vhosts.conf</p><p>or</p><p>/etc/httpd/conf.d/vhost.conf</p><pre class="screen">
		
NameVirtualHost *:80

&lt;VirtualHost *:80&gt;
    ServerAdmin webmaster@dummy-host.example.com
    DocumentRoot "/usr/local/httpd-2.2.14/docs/dummy-host.example.com"
    ServerName dummy-host.example.com
    ServerAlias www.dummy-host.example.com
    ErrorLog "logs/dummy-host.example.com-error_log"
    CustomLog "logs/dummy-host.example.com-access_log" common
&lt;/VirtualHost&gt;
		
		</pre><div class="section" title="100.2.6.1.Â ServerName/ServerAlias"><div class="titlepage"><div><div><h4 class="title"><a id="idp13180128"></a>100.2.6.1.Â ServerName/ServerAlias</h4></div></div></div><pre class="screen">
ServerName dummy-host.example.com
ServerAlias www.dummy-host.example.com
			</pre></div><div class="section" title="100.2.6.2.Â rotatelogs"><div class="titlepage"><div><div><h4 class="title"><a id="rotatelogs"></a>100.2.6.2.Â rotatelogs</h4></div></div></div><pre class="screen">
CustomLog "|/usr/local/httpd/bin/rotatelogs /www/logs/www.example.com/access.%Y-%m-%d.log 86400 480" combined
ErrorLog "|/usr/local/httpd/bin/rotatelogs /www/logs/www.example.com/error.%Y-%m-%d.log 86400 480"
			</pre></div></div><div class="section" title="100.2.7.Â Alias / AliasMatch"><div class="titlepage"><div><div><h3 class="title"><a id="idp13182736"></a>100.2.7.Â Alias / AliasMatch</h3></div></div></div><pre class="screen">
		
Alias /image /ftp/pub/image
AliasMatch ^/icons(.*) /usr/local/apache/icons$1
		
		</pre><pre class="screen">
		
cat /etc/httpd/conf.d/logs.conf

Alias /logs "/www/logs"

&lt;Directory "/www/logs"&gt;
   Options FollowSymLinks MultiViews Indexes
   AllowOverride None
   Order allow,deny
   Allow from all
#  Order deny,allow
#  Deny from all
#  Allow from 127.0.0.1
#   AuthName "Logs Access"
#   AuthType Basic
#   AuthUserFile /etc/httpd/htpasswd.users
#   Require valid-user
&lt;/Directory&gt;
		
		</pre></div><div class="section" title="100.2.8.Â Redirect / RedirectMatch"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.redirect"></a>100.2.8.Â Redirect / RedirectMatch</h3></div></div></div><p>Redirect</p><pre class="screen">
		
Redirect /service http://foo2.example.com/service
Redirect permanent /one http://example.com/two
Redirect 303 /three http://example.com/other
		
		</pre><p>RedirectMatch</p><pre class="screen">
RedirectMatch (.*)\.gif$ http://www.domain.com$1.jpg
		</pre><pre class="screen">
		
&lt;VirtualHost *:80&gt;
     ServerName www.old.com
     DocumentRoot /path/to/htdocs
     ......
     &lt;Directory "/path/to/htdocs"&gt;
         RedirectMatch ^/(.*)$ http://www.new.com/$1
     &lt;/Directory&gt;
&lt;/VirtualHost&gt;
		
		</pre></div><div class="section" title="100.2.9.Â Rewrite"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.rewrite"></a>100.2.9.Â Rewrite</h3></div></div></div><p>Rewrite éè¦ AllowOverride All</p><pre class="screen">
		
&lt;Directory "/www"&gt;
    #
    # Possible values for the Options directive are "None", "All",
    # or any combination of:
    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
    #
    # Note that "MultiViews" must be named *explicitly* --- "Options All"
    # doesn't give it to you.
    #
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.2/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   Options FileInfo AuthConfig Limit
    #
    #AllowOverride None
    AllowOverride All

    #
    # Controls who can get stuff from this server.
    #
    Order allow,deny
    Allow from all

&lt;/Directory&gt;
		
		</pre><div class="section" title="100.2.9.1.Â R=301"><div class="titlepage"><div><div><h4 class="title"><a id="idp13190352"></a>100.2.9.1.Â R=301</h4></div></div></div><pre class="screen">
RewriteEngine on
RewriteCond %{HTTP_HOST} ^x.x.x.x [NC]
RewriteRule ^/(.*)$ http://www.example.com/$1 [L,R=301]

			</pre><div class="example"><a id="idp13191552"></a><p class="title"><strong>ä¾Â 100.3.Â R=301</strong></p><div class="example-contents"><pre class="screen">
				
&lt;VirtualHost *:80&gt;
	ServerAdmin webmaster@example.com
	ServerName www.example.com
	ServerAlias www.second.com

    RewriteEngine On
    RewriteCond %{HTTP_HOST} ^www.example.com [NC]
    RewriteRule ^/(.*)$ http://www.other.com/$1 [L,R=301]
    RewriteCond %{HTTP_HOST} ^www.second.com [NC]
    RewriteRule ^/(.*)$ http://www.other.com/$1 [L,R=301]
&lt;/VirtualHost&gt;
				
				</pre></div></div><br class="example-break" /></div><div class="section" title="100.2.9.2.Â Rewrite + JkMount"><div class="titlepage"><div><div><h4 class="title"><a id="idp13193024"></a>100.2.9.2.Â Rewrite + JkMount</h4></div></div></div><p>JkMount è Rewrite åæä½¿ç¨æ</p><p>RewriteRule ^/communtiy/top/(.*)$  /community.do?method=activeContent&amp;id=$1 [PT] </p><p>å¾é¢ç¨[PT]</p></div><div class="section" title="100.2.9.3.Â Apache redirect domain.com to www.domain.com"><div class="titlepage"><div><div><h4 class="title"><a id="idp13194224"></a>100.2.9.3.Â Apache redirect domain.com to www.domain.com</h4></div></div></div><pre class="screen">
			
$ vi .htaccess
RewriteEngine on
RewriteCond %{HTTP_HOST} ^domain\.com
RewriteRule ^(.*)$ http://www.domain.com/$1 [R=permanent,L]
			
			</pre></div><div class="section" title="100.2.9.4.Â æ­£åå¹éå¯æªå"><div class="titlepage"><div><div><h4 class="title"><a id="idp13195392"></a>100.2.9.4.Â æ­£åå¹éå¯æªå</h4></div></div></div><pre class="screen">
			
&lt;VirtualHost *:80&gt;
    ServerAdmin webmaster@example.com
    DocumentRoot "/www/www.example.com/images"
    ServerName images.example.com
    RewriteEngine On
    RewriteRule ^(.+)(jpg|gif|bmp|jpeg|ico|png|css)$ http://images.other.com/$1$2 [R]
    ErrorLog "logs/images.example.com-error.log"
&lt;/VirtualHost&gt;
			
			</pre><pre class="screen">
			
&lt;VirtualHost *:80&gt;
	ServerAdmin webmaster@example.com
	ServerName images.example.com
	RewriteEngine On
	RewriteCond %{HTTP_HOST} ^images.example.com [NC]
	RewriteRule ^/(.*) http://images.other.com/$1 [L]
	CustomLog "|/usr/local/httpd/bin/rotatelogs /www/logs/images/access.%Y-%m-%d.log 100M" common
&lt;/VirtualHost&gt;
			
			</pre></div></div><div class="section" title="100.2.10.Â Proxy"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.proxy"></a>100.2.10.Â Proxy</h3></div></div></div><pre class="screen">
		
ProxyRequests Off

&lt;Proxy *&gt;
	Order deny,allow
	Allow from all
&lt;/Proxy&gt;
ProxyPass / http://your.domain.com:8080/
ProxyPassReverse / http://your.domain.com:8080/
		
		</pre><div class="section" title="100.2.10.1.Â Reverse proxy"><div class="titlepage"><div><div><h4 class="title"><a id="idp13198912"></a>100.2.10.1.Â Reverse proxy</h4></div></div></div><p>/etc/httpd/conf.d/rails.conf</p><pre class="screen">
			
Listen 8080
ProxyRequests Off
&lt;Proxy balancer://cluster&gt;
	BalancerMember http://127.0.0.1:3001
	BalancerMember http://127.0.0.1:3002
	BalancerMember http://127.0.0.1:3003
	BalancerMember http://127.0.0.1:3004
	BalancerMember http://127.0.0.1:3005
&lt;/Proxy&gt;

&lt;VirtualHost *:8080&gt;
	ServerName www.example.com:8080
	DocumentRoot /var/www/project/public
	ProxyPass /images !
	ProxyPass /stylesheets !
	ProxyPass /javascripts !
	ProxyPass / balancer://cluster/
	ProxyPassReverse / balancer://cluster/
	ProxyPreserveHost on
&lt;/VirtualHost&gt;
			
			</pre></div></div><div class="section" title="100.2.11.Â Deflate"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.deflate"></a>100.2.11.Â Deflate</h3></div></div></div><p>mod_deflate</p><p>httpd.confä¸­ä¸­å å¥ä¸åèªå¥ï¼</p><pre class="screen">
			
&lt;IfModule mod_deflate.c&gt;
	SetOutputFilter DEFLATE
	DeflateCompressionLevel 9
	AddOutputFilterByType DEFLATE text/html text/plain text/xml application/x-httpd-php
	AddOutputFilter DEFLATE txt css js
	SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
	SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary
	SetEnvIfNoCase Request_URI \.pdf$ no-gzip dont-vary
	DeflateFilterNote Input input_info
	DeflateFilterNote Output output_info
	DeflateFilterNote Ratio ratio_info
	LogFormat '"%r" %{output_info}n/%{input_info}n (%{ratio_info}n%%)' deflate
	CustomLog logs/deflate_log.log deflate
&lt;/IfModule&gt;
			
			</pre><p>å°ç®é/usr/local/apache/htdocsææ</p><pre class="screen">
			
&lt;Directory "/usr/local/apache/htdocs"&gt;
    AllowOverride None
    Options None
    Order allow,deny
    Allow from all
	SetOutputFilter DEFLATE
	DeflateCompressionLevel 9
	AddOutputFilterByType DEFLATE text/html text/plain text/xml application/x-httpd-php
	AddOutputFilter DEFLATE txt css js
	SetEnvIfNoCase Request_URI \
	\.(?:gif|jpe?g|png)$ no-gzip dont-vary
&lt;/Directory&gt;
			
			</pre><p></p><pre class="screen">
			
&lt;Location /&gt;
	AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript
	AddOutputFilterByType DEFLATE application/javascript application/x-javascript application/x-httpd-php
	AddOutputFilter DEFLATE txt css js
	SetOutputFilter DEFLATE
&lt;/Location&gt;
			
			</pre><p>Logå®ç¾©</p><pre class="screen">
DeflateFilterNote Input instream   # æªå£ç¸®å
DeflateFilterNote Output outstream # å£ç¸®å¾
DeflateFilterNote Ratio ratio   # ç¾åæ¯
LogFormat '"%r" %{outstream}n/%{instream}n (%{ratio}n%%)' deflate # æ ¼å¼å®ç¾©

CustomLog logs/deflate_log.log deflate # æ¥èªä½ç½®
CustomLog "|/usr/local/httpd/bin/rotatelogs /www/logs/deflate.%Y-%m-%d.log 86400 480" deflate # åå²æ¥èªä½ç½®
			</pre><div class="section" title="100.2.11.1.Â æ¸¬è©¦ gzip,deflate æ¨¡çµ"><div class="titlepage"><div><div><h4 class="title"><a id="idp13206784"></a>100.2.11.1.Â æ¸¬è©¦ gzip,deflate æ¨¡çµ</h4></div></div></div><span class="command"><strong>telnet www.bg7nyt.cn 80</strong></span><pre class="screen">
GET /index.html HTTP/1.0
Host: www.bg7nyt.cn
Accept-Encoding: gzip,deflate
			</pre><p>ä½ çå°çæ¯äºç¢¼,èä¸æ¯HTML.</p><pre class="screen">
curl -H Accept-Encoding:gzip,defalte http://www.example.com/index.html | gunzip
			</pre><p>gunzip å¯ä»¥è§£å£å£ç¸®å§å®¹</p></div></div><div class="section" title="100.2.12.Â Expires"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.expires"></a>100.2.12.Â Expires</h3></div></div></div><pre class="screen">
		
ExpiresActive On
ExpiresByType image/gif "access plus 1 month"
ExpiresByType image/jpeg "access plus 1 month"
ExpiresByType image/x-icon "access plus 1 month"
ExpiresByType image/png "access plus 1 month"
ExpiresByType text/html "access plus 30 minutes"
ExpiresByType text/css  "access plus 30 minutes"
ExpiresByType text/js   "access plus 30 minutes"
ExpiresByType application/x-javascript   "access plus 30 minutes"
ExpiresByType application/x-shockwave-flash     "access plus 30 minutes"

&lt;FilesMatch â\.(ico|jpg|jpeg|png|gif|js|css|swf|html|htm|gzip)$â&gt;
ExpiresActive on
ExpiresDefault âaccess plus 2 hoursâ
Header set Cache-Control âmax-age=1800, publicâ
FileETag none
&lt;/FilesMatch&gt;
		
		</pre></div><div class="section" title="100.2.13.Â Cache"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.cache"></a>100.2.13.Â Cache</h3></div></div></div><p>htcacheclean -- program for cleaning the disk cache.</p><div class="section" title="100.2.13.1.Â mod_disk_cache"><div class="titlepage"><div><div><h4 class="title"><a id="idp13212320"></a>100.2.13.1.Â mod_disk_cache</h4></div></div></div><pre class="screen">
			
&lt;IfModule mod_cache.c&gt;
    CacheDefaultExpire 86400
    &lt;ifModule mod_disk_cache.c&gt;
        CacheEnable disk /
        CacheRoot /tmp/apacheCache
        CacheDirLevels 5
        CacheDirLength 5
        CacheMaxFileSize 1048576
        CacheMinFileSize 10
    &lt;/ifModule mod_disk_cache.c&gt;
&lt;/IfModule mod_cache.c&gt;
			
			</pre></div><div class="section" title="100.2.13.2.Â mod_mem_cache"><div class="titlepage"><div><div><h4 class="title"><a id="idp13213760"></a>100.2.13.2.Â mod_mem_cache</h4></div></div></div><pre class="screen">
			
&lt;IfModule mod_cache.c&gt;
    &lt;ifModule mod_mem_cache.c&gt;
        CacheEnable mem /
        MCacheMaxObjectCount 20000
        MCacheMaxObjectSize 1048576
        MCacheMaxStreamingBuffer 65536
        MCacheMinObjectSize 10
        MCacheRemovalAlgorithm GDSF
        MCacheSize 131072
    &lt;/ifModule mod_disk_cache.c&gt;
&lt;/IfModule mod_cache.c&gt;
			
			</pre></div></div><div class="section" title="100.2.14.Â usertrack"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.usertrack"></a>100.2.14.Â usertrack</h3></div></div></div><p>è·è¹¤ç¨æ¶ä¿¡æ¯</p><p>è·è¹¤ç¨æ¶çcookie,ä½¿ç¨logæ¥èªæªæ¡è¨éç¨æ¶çcookie</p><pre class="screen">
LoadModule usertrack_module modules/mod_usertrack.so

CookieTracking on
CookieDomain .example.com
CookieExpires "10 years"
CookieStyle Cookie

LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %{cookie}n" combined
		</pre></div><div class="section" title="100.2.15.Â Charset"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.charset"></a>100.2.15.Â Charset</h3></div></div></div><p>Default charset</p><pre class="screen">
AddCharset UTF-8 .html

AddType 'text/html; charset=UTF-8' html

AddDefaultCharset UTF-8
		</pre><p>Files match</p><pre class="screen">
		
&lt;FilesMatch "\.(htm|html|css|js)$"&gt;
	ForceType 'text/html; charset=UTF-8'
&lt;/FilesMatch&gt;

&lt;FilesMatch "\.(htm|html|css|js)$"&gt;
	AddDefaultCharset UTF-8
&lt;/FilesMatch&gt;
		
		</pre><p>Changing the occasional file</p><pre class="screen">
		
&lt;Files "example.html"&gt;
	AddCharset UTF-8 .html
&lt;/Files&gt;

&lt;Files "example.html"&gt;
	ForceType 'text/html; charset=UTF-8'
&lt;/Files&gt;
		
		</pre></div><div class="section" title="100.2.16.Â Dir"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.dir"></a>100.2.16.Â Dir</h3></div></div></div><pre class="screen">
		
&lt;IfModule dir_module&gt;
    DirectoryIndex index.html index.php
&lt;/IfModule&gt;
		
		</pre></div><div class="section" title="100.2.17.Â Includes"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.ssi"></a>100.2.17.Â Includes</h3></div></div></div><pre class="screen">
		
&lt;Directory "/www"&gt;
	Options Indexes FollowSymLinks +Includes
&lt;/Directory&gt;
		
		</pre><pre class="screen">
		
&lt;IfModule mime_module&gt;
	AddType text/html .shtml
    AddOutputFilter INCLUDES .shtml
&lt;/IfModule&gt;
		
		</pre></div><div class="section" title="100.2.18.Â Apache Status"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.status"></a>100.2.18.Â Apache Status</h3></div></div></div><p>éåApacheçstatusæ¨¡çµï¼éè¦ä¿®æ¹httpd.confï¼å¢å ä»¥ä¸éç½®æ®µï¼</p><pre class="screen">
		
ExtendedStatus On
&lt;Location /server-status&gt;
  SetHandler server-status
  Order deny,allow
  Deny from all
  Allow from 125.76.229.113
&lt;/Location&gt;
		
		</pre><p>http://www.domain.com/server-status</p><p>Automatic Updates</p><pre class="screen">
http://your.server.name/server-status?refresh=N
		</pre><pre class="screen">
http://localhost/server-status?auto
		</pre><p>æ´å±çæï¼æä¾æ´è©³ç´°çä¿¡æ¯</p><pre class="screen">
ExtendedStatus On
		</pre></div><div class="section" title="100.2.19.Â Mod Perl"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.mod_perl"></a>100.2.19.Â Mod Perl</h3></div></div></div><p>ref: http://search.cpan.org/~agrundma/Catalyst-Engine-Apache-1.07/lib/Catalyst/Engine/Apache2/MP20.pm</p><span class="command"><strong>$ sudo apt-get install libapache2-mod-perl2 </strong></span><span class="command"><strong>$ sudo apt-get install libcatalyst-engine-apache-perl</strong></span><pre class="screen">
$ sudo vi /etc/apache2/sites-available/catalyst.conf
		</pre><div class="example"><a id="idp13231104"></a><p class="title"><strong>ä¾Â 100.4.Â mod_perl.conf</strong></p><div class="example-contents"><pre class="screen">
			
PerlSwitches -I/var/www/MyApp/lib
# Preload your entire application
PerlModule MyApp

&lt;VirtualHost 192.168.245.129:80&gt;
        ServerName 192.168.245.129
        DocumentRoot /var/www/MyApp/root

        &lt;Directory /var/www/MyApp/root&gt;
	        Options Indexes FollowSymLinks
	        AllowOverride None
	        Order allow,deny
	        Allow from all
        &lt;/Directory&gt;

        # If the server is started as:
        #       httpd -X -D PERLDB
        # then debugging will be turned on
#       &lt;IfDefine PERLDB&gt;
#               PerlRequire conf/db.pl
#               &lt;Location /&gt;
#                       PerlFixupHandler Apache::DB
#               &lt;/Location&gt;
#       &lt;/IfDefine&gt;

        &lt;Location /&gt;
                SetHandler modperl
                PerlResponseHandler MyApp
        &lt;/Location&gt;

        Alias /static /var/www/MyApp/root/static
        &lt;Location /static&gt;
                SetHandler default-handler
        &lt;/Location&gt;
&lt;/VirtualHost&gt;
			
			</pre></div></div><br class="example-break" /><p>db.pl</p><pre class="screen">
		
use APR::Pool ();
use Apache::DB ();
Apache::DB-&gt;init();
		
		</pre><p>enable site</p><pre class="screen">
$ sudo a2ensite mod_perl.conf
$ sudo /etc/init.d/apache2 restart
		</pre></div><div class="section" title="100.2.20.Â mod_pagespeed -"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.mod_pagespeed"></a>100.2.20.Â mod_pagespeed - </h3></div></div></div><p><a class="ulink" href="https://developers.google.com/speed/pagespeed/mod" target="_top">https://developers.google.com/speed/pagespeed/mod</a></p></div><div class="section" title="100.2.21.Â Module FAQ"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.faq"></a>100.2.21.Â Module FAQ</h3></div></div></div><p></p><pre class="screen">
	 	
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 358 of /etc/httpd/conf/httpd.conf:
Invalid command 'Order', perhaps mis-spelled or defined by a module not included
in the server configuration
[FAILED]
LoadModule access_module /etc/httpd/modules/mod_access.so
LoadModule auth_module /etc/httpd/modules/mod_auth.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 368 of /etc/httpd/conf/httpd.conf:
Invalid command 'UserDir', perhaps mis-spelled or defined by a module not includ
ed in the server configuration
[FAILED]
LoadModule userdir_module /etc/httpd/modules/mod_userdir.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 396 of /etc/httpd/conf/httpd.conf:
Invalid command 'DirectoryIndex', perhaps mis-spelled or defined by a module not
included in the server configuration
[FAILED]
LoadModule dir_module /etc/httpd/modules/mod_dir.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 419 of /etc/httpd/conf/httpd.conf:
Invalid command 'TypesConfig', perhaps mis-spelled or defined by a module not in
cluded in the server configuration
[FAILED]
LoadModule mime_module /etc/httpd/modules/mod_mime.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 491 of /etc/httpd/conf/httpd.conf:
Invalid command 'LogFormat', perhaps mis-spelled or defined by a module not incl
uded in the server configuration
[FAILED]
LoadModule log_config_module /etc/httpd/modules/mod_log_config.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 555 of /etc/httpd/conf/httpd.conf:
Invalid command 'Alias', perhaps mis-spelled or defined by a module not included
in the server configuration
[FAILED]
LoadModule alias_module /etc/httpd/modules/mod_alias.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 582 of /etc/httpd/conf/httpd.conf:
Invalid command 'SetEnvIf', perhaps mis-spelled or defined by a module not inclu
ded in the server configuration
[FAILED]
LoadModule setenvif_module /etc/httpd/modules/mod_setenvif.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 636 of /etc/httpd/conf/httpd.conf:
Invalid command 'IndexOptions', perhaps mis-spelled or defined by a module not i
ncluded in the server configuration
[FAILED]
LoadModule autoindex_module /etc/httpd/modules/mod_autoindex.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd: Syntax error on line 784 of /etc/httpd/conf/httpd.conf:
Invalid command 'LanguagePriority', perhaps mis-spelled or defined by a module n
ot included in the server configuration
[FAILED]
LoadModule negotiation_module /etc/httpd/modules/mod_negotiation.so
[root@srv-2 modules]# /etc/init.d/httpd start
Starting httpd:                                            [  OK  ]
[root@srv-2 modules]#
	 	
	 	</pre></div><div class="section" title="100.2.22.Â mod_setenvif"><div class="titlepage"><div><div><h3 class="title"><a id="httpd.mod_setenvif"></a>100.2.22.Â mod_setenvif</h3></div></div></div><p>å±è½ç¬è²</p><pre class="screen">
		
&lt;directory "/www/example.com"&gt;
    Order allow,deny
    Allow from all
    BrowserMatchNoCase "iaskspider" badguy
    BrowserMatchNoCase "QihooBot" badguy
    BrowserMatchNoCase "larbin" badguy
    BrowserMatchNoCase "iearthworm" badguy
    BrowserMatchNoCase "Outfoxbot" badguy
    BrowserMatchNoCase "lanshanbot" badguy
    BrowserMatchNoCase "Arthur" badguy
    BrowserMatchNoCase "InfoPath" badguy
    BrowserMatchNoCase "DigExt" badguy
    BrowserMatchNoCase "Embedded" badguy
    BrowserMatchNoCase "EmbeddedWB" badguy
    BrowserMatchNoCase "Wget" badguy
    BrowserMatchNoCase "CNCDialer" badguy
    BrowserMatchNoCase "LWP::Simple" badguy
    BrowserMatchNoCase "WPS" badguy
    deny from env=badguy
&lt;/directory&gt;
		
		</pre><p>å±è½ä¸è¼</p><pre class="screen">
BrowserMatch "NetAnt" badguy
BrowserMatch "GetRight" badguy
BrowserMatch "JetCar" badguy
BrowserMatch "Mass Downloader" badguy
BrowserMatch "ReGet" badguy
BrowserMatch "DLExpert" badguy
BrowserMatch "FlashGet" badguy
BrowserMatch "Offline Explorer" badguy
BrowserMatch "Teleport" badguy
...........

order deny,allow
deny from env=badguy
allow from all
		</pre></div><div class="section" title="100.2.23.Â PHP ç¨åºå®å¨åé¡ php_admin_value"><div class="titlepage"><div><div><h3 class="title"><a id="idp13243792"></a>100.2.23.Â PHP ç¨åºå®å¨åé¡ php_admin_value</h3></div></div></div><p>php å®å¨</p><pre class="screen">
		
php_admin_value open_basedir /var/www/htdocs/
		
		</pre><pre class="screen">
		
&lt;IfModule mod_php5.c&gt;
  php_value include_path ".:/usr/local/lib/php"
  php_admin_flag engine on
&lt;/IfModule&gt;
&lt;IfModule mod_php4.c&gt;
  php_value include_path ".:/usr/local/lib/php"
  php_admin_flag engine on
&lt;/IfModule&gt;
		
		</pre></div><div class="section" title="100.2.24.Â mod_spdy"><div class="titlepage"><div><div><h3 class="title"><a id="mod_spdy"></a>100.2.24.Â mod_spdy</h3></div></div></div><p>mod_spdy æ¯ç¨æ¼ Apache HTTP ä¼ºæå¨ç Google SPDY åè­°å¯¦ç¾æ¨¡çµ, </p><p>SPDYä¸¦ä¸æ¯ä¸ç¨®ç¨æ¼æ¿ä»£HTTPçåè­°ï¼èæ¯å°HTTPåè­°çå¢å¼·ãæ°åè­°çåè½åæ¬æ¸ææµçå¤è·¯å¾©ç¨ãè«æ±åªåé åºï¼ä»¥åHTTPåé ­å£ç¸®ãè°·æ­å·²ç¶éç¼ä¸åç¶²çµ¡ä¼ºæå¨ååæ©ï¼ä»¥åæ¯æSPDYåè­°çChromeçè¦½å¨çæ¬ã</p><p><a class="ulink" href="https://code.google.com/p/mod-spdy/" target="_top">https://code.google.com/p/mod-spdy/</a></p></div></div><div xmlns="" id="disqus_thread"></div><script xmlns="" type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */

            if(document.domain == 'netkiller.github.com'){
            var disqus_shortname = 'netkiller'; // required: replace example with your forum shortname
            }else{
			var disqus_shortname = 'neochan';
            }

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript xmlns="">Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a xmlns="" href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="lamp.html">ä¸ä¸é </a>Â </td><td width="20%" align="center"><a accesskey="u" href="lamp.html">ä¸ä¸ç´</a></td><td width="40%" align="right">Â <a accesskey="n" href="lamp.referal.html">ä¸ä¸é </a></td></tr><tr><td width="40%" align="left" valign="top">ç¬¬Â 100Â ç« Â Apache httpdÂ </td><td width="20%" align="center"><a accesskey="h" href="../index.html">èµ·å§é </a></td><td width="40%" align="right" valign="top">Â 100.3.Â è¨­ç½®Apacheå¯¦ç¾é²çé£</td></tr></table></div><script xmlns="" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11694057-1']);
  _gaq.push(['_setDomainName', 'netkiller.github.io']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script><script xmlns="" type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F997cd4a7320a82d72cb74d179118f697' type='text/javascript'%3E%3C/script%3E"));
</script></body></html>