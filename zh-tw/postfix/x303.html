<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>BIND 9 例子</TITLE
>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Postfix Integrated Solution"
HREF="book1.html" tppabs="http://www.9812.net/article/postfix/book1.html"><LINK
REL="UP"
TITLE="域名"
HREF="c216.html" tppabs="http://www.9812.net/article/postfix/c216.html"><LINK
REL="PREVIOUS"
TITLE="域名"
HREF="c216.html" tppabs="http://www.9812.net/article/postfix/c216.html"><LINK
REL="NEXT"
TITLE="OpenLDAP"
HREF="c324.html" tppabs="http://www.9812.net/article/postfix/c324.html"></HEAD
><BODY
CLASS="SECTION"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Postfix Integrated Solution</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c216.html" tppabs="http://www.9812.net/article/postfix/c216.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>域名</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c324.html" tppabs="http://www.9812.net/article/postfix/c324.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECTION"
><H1
CLASS="SECTION"
><A
NAME="AEN303"
></A
>BIND 9 例子</H1
><P
>目前我不打算介紹如何配置Bind,Windows DNS Server,主要是沒有時間去寫,以後我會加上.</P
><P
>我做過Bind 9做主DNS,windows DNS Server 做輔助DNS,讓他們同步數據.
		這樣可以在WIN DNS看到域名信息，比較直觀，也很方便。如果你有興趣可以自己做試驗</P
><P
>這裡我只給出一個例子。首先配置<TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>檔案</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>[root@linux src]# <TT
CLASS="USERINPUT"
><B
>cat /etc/resolv.conf</B
></TT
>
nameserver 127.0.0.1
nameserver 202.96.128.68
nameserver 218.30.103.50
nameserver 202.106.169.100
[root@linux src]#
		</PRE
></TD
></TR
></TABLE
><P
>配置<TT
CLASS="FILENAME"
>/etc/named.conf</TT
>檔案</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>[root@linux src]# <TT
CLASS="USERINPUT"
><B
>cat /etc/named.conf</B
></TT
>
// generated by named-bootconf.pl

options {
        directory "/var/named";
        /*
         * If there is a firewall between you and nameservers you want
         * to talk to, you might need to uncomment the query-source
         * directive below.  Previous versions of BIND always asked
         * questions using port 53, but BIND 8.1 uses an unprivileged
         * port by default.
         */
        // query-source address * port 53;
};

//
// a caching only nameserver config
//
controls {
        inet 127.0.0.1 allow { localhost; } keys { rndckey; };
};
zone "." IN {
        type hint;
        file "named.ca";
};

zone "localhost" IN {
        type master;
        file "localhost.zone";
        allow-update { none; };
};

zone "0.0.127.in-addr.arpa" IN {
        type master;
        file "named.local";
        allow-update { none; };
};
<TT
CLASS="USERINPUT"
><B
>zone "example.net" IN {
        type master;
        file "example.net";
        allow-update { none; };
};</B
></TT
>
include "/etc/rndc.key";
		</PRE
></TD
></TR
></TABLE
><P
>創建檔案<TT
CLASS="USERINPUT"
><B
>/var/named/example.net</B
></TT
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>[root@linux src]# <TT
CLASS="USERINPUT"
><B
>cat /var/named/example.net</B
></TT
>
@ IN SOA        example.net. root.example.net. (
                          200211131 ; serial, todays date + todays serial #
                          28800 ; refresh, seconds
                          7200 ; retry, seconds
                          3600000 ; expire, seconds
                          86400 ) ; minimum, seconds
        NS ns.example.net.
@       IN A         192.168.0.1
www     IN A         192.168.0.1
mail    IN A         192.168.0.1
@       MX 10 mail.example.net.
[root@linux src]#
		</PRE
></TD
></TR
></TABLE
><P
>重新啟動BIND(DNS 伺服器)</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>[root@linux src]# service named restart
Stopping named:
[root@linux src]#                                          [  OK  ]
		</PRE
></TD
></TR
></TABLE
><P
>測試</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
>[root@linux src]# ping example.net
PING example.net (192.168.0.1) 56(84) bytes of data.
64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=0.026 ms
64 bytes from 192.168.0.1: icmp_seq=2 ttl=64 time=0.030 ms
64 bytes from 192.168.0.1: icmp_seq=3 ttl=64 time=0.018 ms

--- example.net ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 7201ms
rtt min/avg/max/mdev = 0.018/0.024/0.030/0.007 ms


[root@linux src]# ping mail.example.net
PING mail.example.net (192.168.0.1) 56(84) bytes of data.
64 bytes from 192.168.0.1: icmp_seq=1 ttl=64 time=0.022 ms
64 bytes from 192.168.0.1: icmp_seq=2 ttl=64 time=0.036 ms
64 bytes from 192.168.0.1: icmp_seq=3 ttl=64 time=0.032 ms

--- mail.example.net ping statistics ---
3 packets transmitted, 3 received, 0% packet loss, time 1998ms
rtt min/avg/max/mdev = 0.022/0.030/0.036/0.005 ms
		</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c216.html" tppabs="http://www.9812.net/article/postfix/c216.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html" tppabs="http://www.9812.net/article/postfix/book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c324.html" tppabs="http://www.9812.net/article/postfix/c324.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>域名</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c216.html" tppabs="http://www.9812.net/article/postfix/c216.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>OpenLDAP</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>