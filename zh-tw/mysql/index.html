<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Netkiller MySQL 手札</title><link rel="stylesheet" type="text/css" href="/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><meta name="description" content="下面是我多年積累下來的經驗總結，整理成文檔供大家參考: Netkiller Architect 手札 Netkiller Linux 手札 Netkiller Developer 手札 Netkiller Security 手札 Netkiller Debian 手札 Netkiller CentOS 手札 Netkiller FreeBSD 手札 Netkiller Shell 手札 Netkiller Web 手札 Netkiller Monitoring 手札 Netkiller Storage 手札 Netkiller Mail 手札 Netkiller Database 手札 Netkiller PostgreSQL 手札 Netkiller MySQL 手札 Netkiller LDAP 手札 Netkiller Cryptography 手札 Netkiller Docbook 手札 Netkiller Version 手札 Netkiller Multimedia 手札 Netkiller Cisco IOS 手札 Netkiller Intranet 手札 Netkiller Management 手札 Netkiller Installation 手札" /><link rel="home" href="index.html" title="Netkiller MySQL 手札" /><link rel="next" href="preface.html" title="自述" /><script xmlns="" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-11694057-1']);
  _gaq.push(['_setDomainName', 'netkiller.sourceforge.net']);
  _gaq.push(['_setAllowHash', 'false']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Netkiller MySQL 手札</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="preface.html">下一頁</a></td></tr></table><hr /></div><table xmlns="" width="100%" border="0"><tr><td align="left"><a href="http://netkiller.sourceforge.net/">Home</a> |
                <a href="http://netkiller.github.com/">Mirror</a> |
                <a href="/search.html">Search</a></td><td align="right"><form id="searchbox_008589143145807374698:f5uprauilyy" action="/search.html"><input type="hidden" name="cx" value="008589143145807374698:f5uprauilyy" /><input type="hidden" name="cof" value="FORID:11" /><input name="q" type="text" size="25" style="border-top-width: 1px; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(126, 157, 185); border-right-color: rgb(126, 157, 185); border-bottom-color: rgb(126, 157, 185); border-left-color: rgb(126, 157, 185); padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; background-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif); background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 255); background-position: 0% 50%; background-repeat: no-repeat no-repeat; " /><input type="submit" name="sa" value="Search" /><input name="siteurl" type="hidden" value="http://netkiller.sourceforge.net/" /></form><script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_008589143145807374698%3Af5uprauilyy"></script></td></tr></table><div xml:lang="zh-cn" class="book" title="Netkiller MySQL 手札" lang="zh-cn"><div class="titlepage"><div><div><h1 class="title"><a id="idp192"></a>Netkiller MySQL 手札</h1></div><div><h2 class="subtitle">MySQL MariaDB...</h2></div><div><div class="author"><h3 class="author"><span class="honorific">Mr</span>. <span class="firstname">Neo</span> <span class="othername"></span> <span class="surname">Chan</span>, <span class="lineage">陳景峰(BG7NYT)</span></h3><div class="affiliation"><div class="address"><p><br />
				<span class="country">中國</span><span class="state">廣東省</span><span class="city">深圳市</span><span class="street">寶安區龍華鎮溪山美地</span><br />
				<span class="postcode">518109</span><br />
				<span class="phone">+86 755 29812080</span><br />
				<span class="fax">+86 755 29812080</span><br />
				<code class="email">&lt;<a class="email" href="mailto:netkiller@msn.com">netkiller@msn.com</a>&gt;</code><br />
			</p></div></div></div></div><div><p class="releaseinfo">文檔始創于<span class="date">2010-11-18<br /></span></p></div><div><p class="copyright">版權 © 2011, 2012 Netkiller(Neo Chan). All rights reserved.</p></div><div><div class="legalnotice" title="版權聲明"><a id="legalnotice"></a><p class="legalnotice-title"><strong>版權聲明</strong></p><p>轉載請與作者聯繫，轉載時請務必標明文章原始出處和作者信息及本聲明。</p><table border="0" summary="Simple list" class="simplelist"><tr><td>
		<a class="ulink" href="http://creativecommons.org/licenses/by/3.0/" target="_top">
			<div><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="180"><tr><td><img src="../images/by-nc-sa.png" width="180" /></td></tr></table></div>
		</a>
		</td><td>
			<table border="0" summary="Simple list" class="simplelist"><tr><td>
					文檔出處:
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.sourceforge.net/" target="_top">http://netkiller.sourceforge.net</a>
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.github.com/" target="_top">http://netkiller.github.com</a>
				</td></tr></table>
		</td></tr></table><p></p></div></div><div><p class="pubdate">$Date: 2012-04-11 09:12:15 +0800 (Wed, 11 Apr 2012) $</p></div><div><div class="abstract" title="下面是我多年積累下來的經驗總結，整理成文檔供大家參考:"><a id="abstract"></a><p class="title"><strong>下面是我多年積累下來的經驗總結，整理成文檔供大家參考:</strong></p><p>
		</p><table border="0" summary="Simple list" class="simplelist"><tr><td>
				<a class="ulink" href="../architect/index.html" target="_top">Netkiller Architect 手札</a>
			</td><td>
				<a class="ulink" href="../linux/index.html" target="_top">Netkiller Linux 手札</a>
			</td><td>
				<a class="ulink" href="../developer/index.html" target="_top">Netkiller Developer 手札</a>
			</td><td>
				<a class="ulink" href="../security/index.html" target="_top">Netkiller Security 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../debian/index.html" target="_top">Netkiller Debian 手札</a>
			</td><td>
				<a class="ulink" href="../centos/index.html" target="_top">Netkiller CentOS 手札</a>
			</td><td>
				<a class="ulink" href="../freebsd/index.html" target="_top">Netkiller FreeBSD 手札</a>
			</td><td>
				<a class="ulink" href="../shell/index.html" target="_top">Netkiller Shell 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../www/index.html" target="_top">Netkiller Web 手札</a>
			</td><td>
				<a class="ulink" href="../monitoring/index.html" target="_top">Netkiller Monitoring 手札</a>
			</td><td>
				<a class="ulink" href="../storage/index.html" target="_top">Netkiller Storage 手札</a>
			</td><td>
				<a class="ulink" href="../mail/index.html" target="_top">Netkiller Mail 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../database/index.html" target="_top">Netkiller Database 手札</a>
			</td><td>
				<a class="ulink" href="../postgres/index.html" target="_top">Netkiller PostgreSQL 手札</a>
			</td><td>
				<a class="ulink" href="../mysql/index.html" target="_top">Netkiller MySQL 手札</a>
			</td><td>
				<a class="ulink" href="../ldap/index.html" target="_top">Netkiller LDAP 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../cryptography/index.html" target="_top">Netkiller Cryptography 手札</a>
			</td><td>
				<a class="ulink" href="../docbook/index.html" target="_top">Netkiller Docbook 手札</a>
			</td><td>
				<a class="ulink" href="../version/index.html" target="_top">Netkiller Version 手札</a>
			</td><td>
				<a class="ulink" href="../multimedia/index.html" target="_top">Netkiller Multimedia 手札</a>
			</td></tr><tr><td>
				<a class="ulink" href="../cisco/index.html" target="_top">Netkiller Cisco IOS 手札</a>
			</td><td>
				<a class="ulink" href="../intranet/index.html" target="_top">Netkiller Intranet 手札</a>
			</td><td>
				<a class="ulink" href="../management/index.html" target="_top">Netkiller Management 手札</a>
			</td><td>
				<a class="ulink" href="../initenv/index.html" target="_top">Netkiller Installation 手札</a>
			</td></tr></table><p>
	</p></div></div></div><hr /></div><div class="toc"><p><strong>目錄</strong></p><dl><dt><span class="preface"><a href="preface.html">自述</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#preface.contents">1. 內容簡介</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#preface.reader">1.1. Audience(讀者對象)</a></span></dt><dt><span class="section"><a href="preface.html#readme">1.2. 寫給讀者</a></span></dt><dt><span class="section"><a href="preface.html#idp203552">1.3. 獲得文檔</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#idp216688">1.3.1. PDF</a></span></dt><dt><span class="section"><a href="preface.html#idp218832">1.3.2. EPUB</a></span></dt><dt><span class="section"><a href="preface.html#idp219904">1.3.3. GIT</a></span></dt><dt><span class="section"><a href="preface.html#idp221136">1.3.4. 獲得光盤介質</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="author.html">2. 作者簡介</a></span></dt><dd><dl><dt><span class="section"><a href="author.html#contact">2.1. 聯繫作者</a></span></dt><dt><span class="section"><a href="author.html#idp231328">2.2. IM</a></span></dt><dt><span class="section"><a href="author.html#idp241888">2.3. Mailing List</a></span></dt><dt><span class="section"><a href="author.html#idp244672">2.4. Blogger</a></span></dt></dl></dd><dt><span class="section"><a href="donations.html">3. 支持這個項目(Support this project)</a></span></dt></dl></dd><dt><span class="chapter"><a href="server.html">1. MySQL Server</a></span></dt><dd><dl><dt><span class="section"><a href="server.html#mysql.install">1. MySQL Installation</a></span></dt><dd><dl><dt><span class="section"><a href="server.html#mysql.ubuntu">1.1. Installation by apt-get under debian/ubuntu</a></span></dt><dt><span class="section"><a href="server.html#mysql.source">1.2. Installation by source code</a></span></dt><dt><span class="section"><a href="server.html#mysql.binary">1.3. MySQL binary distribution</a></span></dt><dt><span class="section"><a href="server.html#idp273040">1.4. mysql-5.5.21-debian6.0-i686.deb</a></span></dt><dt><span class="section"><a href="server.html#idp274448">1.5. CentOS 6.2 + MySQL 5.5.25 (RPM)</a></span></dt><dt><span class="section"><a href="server.html#idp276704">1.6. mysql-admin</a></span></dt></dl></dd><dt><span class="section"><a href="my.cnf.html">2. my.cnf</a></span></dt><dd><dl><dt><span class="section"><a href="my.cnf.html#idp280080">2.1. Configuring Database Character Encoding</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp285856">2.2. max_connections</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp286848">2.3. storage-engine</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp287856">2.4. reload</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp288864">2.5. max_allowed_packet</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp289856">2.6. skip-name-resolve</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp303168">2.7. 禁用TCP/IP連結</a></span></dt><dt><span class="section"><a href="my.cnf.html#idp304256">2.8. timeout</a></span></dt></dl></dd><dt><span class="section"><a href="log.html">3. mysql log</a></span></dt><dt><span class="section"><a href="security.html">4. Security</a></span></dt><dt><span class="section"><a href="replication.html">5. Replication</a></span></dt><dd><dl><dt><span class="section"><a href="replication.html#master.slave">5.1. Master Slave</a></span></dt><dd><dl><dt><span class="section"><a href="replication.html#replication.master">5.1.1. Master</a></span></dt><dt><span class="section"><a href="replication.html#replication.slave">5.1.2. Slave</a></span></dt><dt><span class="section"><a href="replication.html#replication.testing">5.1.3. Testing</a></span></dt><dt><span class="section"><a href="replication.html#replication.db">5.1.4. 將現有資料庫遷移到主從結構資料庫</a></span></dt><dt><span class="section"><a href="replication.html#replication.privi">5.1.5. 主從複製安全問題</a></span></dt><dt><span class="section"><a href="replication.html#replication.error">5.1.6. 主從不同步問題</a></span></dt></dl></dd><dt><span class="section"><a href="replication.html#master.master">5.2. Master Master(主主)</a></span></dt><dd><dl><dt><span class="section"><a href="replication.html#idp367456">5.2.1. Master A</a></span></dt><dt><span class="section"><a href="replication.html#idp370832">5.2.2. Master B</a></span></dt><dt><span class="section"><a href="replication.html#idp374944">5.2.3. 將Master A 資料庫 同步到 Master B 兩端資料庫內容保持一致</a></span></dt><dt><span class="section"><a href="replication.html#idp377360">5.2.4. Master A - B 同步兩端資料庫</a></span></dt><dt><span class="section"><a href="replication.html#idp379808">5.2.5. Master A 資料庫解除只讀權限</a></span></dt><dt><span class="section"><a href="replication.html#idp381104">5.2.6. 查看主主的工作狀態</a></span></dt></dl></dd><dt><span class="section"><a href="replication.html#replication.error">5.3. 與複製有關的問題</a></span></dt><dd><dl><dt><span class="section"><a href="replication.html#replication.expire-logs-days">5.3.1. expire-logs-days</a></span></dt><dt><span class="section"><a href="replication.html#idp384800">5.3.2. Semisynchronous Replication</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="cluster.html">6. MySQL CLuster</a></span></dt><dd><dl><dt><span class="section"><a href="cluster.html#cluster.mgm">6.1. Management node (MGM node)</a></span></dt><dt><span class="section"><a href="cluster.html#cluster.data">6.2. Data node</a></span></dt><dt><span class="section"><a href="cluster.html#cluster.sql">6.3. SQL node</a></span></dt><dt><span class="section"><a href="cluster.html#cluster.start">6.4. Starting</a></span></dt><dt><span class="section"><a href="cluster.html#cluster.shut">6.5. Shutdown</a></span></dt><dt><span class="section"><a href="cluster.html#cluster.testing">6.6. Testing</a></span></dt></dl></dd><dt><span class="section"><a href="monitoring.html">7. Monitoring</a></span></dt><dd><dl><dt><span class="section"><a href="monitoring.html#mon.prog">7.1. Analysis and Optimization</a></span></dt><dd><dl><dt><span class="section"><a href="monitoring.html#mytop">7.1.1. mytop - top like query monitor for MySQL</a></span></dt><dt><span class="section"><a href="monitoring.html#mtop">7.1.2. mtop - MySQL terminal based query monitor</a></span></dt><dt><span class="section"><a href="monitoring.html#idp486384">7.1.3. innotop</a></span></dt><dt><span class="section"><a href="monitoring.html#mysqlreport">7.1.4. mysqlreport</a></span></dt></dl></dd><dt><span class="section"><a href="monitoring.html#monitoring.munin">7.2. Munin</a></span></dt><dt><span class="section"><a href="monitoring.html#monitoring.cacti">7.3. Cacti</a></span></dt><dt><span class="section"><a href="monitoring.html#mysql.snmp">7.4. Monitoring MySQL with SNMP</a></span></dt></dl></dd><dt><span class="section"><a href="import_export.html">8. Import / Export (Backup and Recovery)</a></span></dt><dd><dl><dt><span class="section"><a href="import_export.html#backup">8.1. Export(Backup)</a></span></dt><dt><span class="section"><a href="import_export.html#recovery">8.2. Import(Recovery)</a></span></dt><dt><span class="section"><a href="import_export.html#idp504256">8.3. xml</a></span></dt><dt><span class="section"><a href="import_export.html#idp505568">8.4. 備份表數據</a></span></dt><dt><span class="section"><a href="import_export.html#idp506640">8.5. source</a></span></dt><dt><span class="section"><a href="import_export.html#idp507648">8.6. 使用 mysqlhotcopy 備份 MyISAM 引擎的資料庫</a></span></dt><dt><span class="section"><a href="import_export.html#idp509888">8.7. AutoMySQLBackup</a></span></dt><dt><span class="section"><a href="import_export.html#idp510592">8.8. xtrabackup - Open source backup tool for InnoDB and XtraDB.</a></span></dt></dl></dd><dt><span class="section"><a href="backup.snapshot.html">9. Snapshot Backup</a></span></dt></dl></dd><dt><span class="chapter"><a href="utility.html">3. Client and Utility Programs</a></span></dt><dd><dl><dt><span class="section"><a href="utility.html#mysql">1. mysql - the MySQL command-line tool</a></span></dt><dd><dl><dt><span class="section"><a href="utility.html#idp516928">1.1. ~/.my.cnf</a></span></dt><dt><span class="section"><a href="utility.html#mysql.tee">1.2. 屏幕輸出到檔案</a></span></dt><dt><span class="section"><a href="utility.html#idp519248">1.3. 終端編碼</a></span></dt><dt><span class="section"><a href="utility.html#idp519760">1.4. Unix Socket</a></span></dt><dt><span class="section"><a href="utility.html#idp524416">1.5. 重定向巧用</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.mysqldump.html">2. mysqldump - a database backup program</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.mysqldump.html#idp526768">2.1. 備份資料庫，無結構，只有數據</a></span></dt><dt><span class="section"><a href="mysql.mysqldump.html#idp528160">2.2. 備份資料庫結構（不備份數據）</a></span></dt><dt><span class="section"><a href="mysql.mysqldump.html#idp529136">2.3. 使用完整的insert插入數據</a></span></dt><dt><span class="section"><a href="mysql.mysqldump.html#idp530832">2.4. --extended-insert / --skip-extended-insert</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.mysqladmin.html">3. mysqladmin - client for administering a MySQL server</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.mysqladmin.html#idp534032">3.1. 更改密碼</a></span></dt><dt><span class="section"><a href="mysql.mysqladmin.html#idp535088">3.2. status</a></span></dt><dt><span class="section"><a href="mysql.mysqladmin.html#idp553104">3.3. process list</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.myisamchk.html">4. myisamchk — MyISAM Table-Maintenance Utility</a></span></dt><dt><span class="section"><a href="mysql.mysqlcheck.html">5. mysqlcheck — A Table Maintenance and Repair Program</a></span></dt><dt><span class="section"><a href="mysql.mysqlslap.html">6. mysqlslap - load emulation client</a></span></dt><dt><span class="section"><a href="mysqldumpslow.html">7. mysqldumpslow - Parse and summarize the MySQL slow query log.</a></span></dt><dt><span class="section"><a href="log.html">8. mysql log</a></span></dt></dl></dd><dt><span class="chapter"><a href="mysql.administration.html">4. Database Administration</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.administration.html#mysql.user">1. User Account Management</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.administration.html#idp580768">1.1. Create User</a></span></dt><dt><span class="section"><a href="mysql.administration.html#idp583776">1.2. Drop User</a></span></dt><dt><span class="section"><a href="mysql.administration.html#idp585424">1.3. Rename User</a></span></dt><dt><span class="section"><a href="mysql.administration.html#idp586448">1.4. SET PASSWORD</a></span></dt><dt><span class="section"><a href="mysql.administration.html#idp588160">1.5. Reset root password</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.privilege.html">2. Access Privilege System</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.privilege.html#idp593632">2.1. SHOW GRANTS</a></span></dt><dt><span class="section"><a href="mysql.privilege.html#idp595152">2.2. Grant privileges </a></span></dt><dt><span class="section"><a href="mysql.privilege.html#idp595280">2.3. Revoke privileges</a></span></dt><dt><span class="section"><a href="mysql.privilege.html#idp601472">2.4. Show Privileges</a></span></dt><dt><span class="section"><a href="mysql.privilege.html#idp603600">2.5. MAX_QUERIES_PER_HOUR/MAX_UPDATES_PER_HOUR</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.version.html">3. 查看版本</a></span></dt><dt><span class="section"><a href="mysql.show.html">4. SHOW COMMAND</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.show.html#show.status">4.1. status</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.show.html#">4.1.1. show status</a></span></dt><dt><span class="section"><a href="mysql.show.html#idp614592">4.1.2. show master status</a></span></dt><dt><span class="section"><a href="mysql.show.html#idp615968">4.1.3. show slave status</a></span></dt><dt><span class="section"><a href="mysql.show.html#idp617184">4.1.4. show plugins</a></span></dt></dl></dd><dt><span class="section"><a href="mysql.show.html#variables">4.2. variables</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.show.html#wait_timeout">4.2.1. wait_timeout</a></span></dt><dt><span class="section"><a href="mysql.show.html#table_lock_wait_timeout">4.2.2. table_lock_wait_timeout</a></span></dt><dt><span class="section"><a href="mysql.show.html#low_priority_updates">4.2.3. low_priority_updates</a></span></dt><dt><span class="section"><a href="mysql.show.html#character_set">4.2.4. character_set</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="mysql.ddl.html">5. DDL - Data Definition Language</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.ddl.html#ddl.database">1. Database</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.ddl.html#idp629312">1.1. create</a></span></dt><dt><span class="section"><a href="mysql.ddl.html#idp631552">1.2. drop</a></span></dt><dt><span class="section"><a href="mysql.ddl.html#idp632544">1.3. Alter</a></span></dt><dt><span class="section"><a href="mysql.ddl.html#idp633488">1.4. Rename</a></span></dt><dt><span class="section"><a href="mysql.ddl.html#idp635408">1.5. CHARACTER</a></span></dt><dt><span class="section"><a href="mysql.ddl.html#idp636528">1.6. show create database</a></span></dt></dl></dd><dt><span class="section"><a href="ddl.table.html">2. Table</a></span></dt><dd><dl><dt><span class="section"><a href="ddl.table.html#idp638592">2.1. create table ... select</a></span></dt><dt><span class="section"><a href="ddl.table.html#idp640880">2.2. modifiy table</a></span></dt><dt><span class="section"><a href="ddl.table.html#idp642192">2.3. TEMPORARY Table</a></span></dt><dt><span class="section"><a href="ddl.table.html#idp644672">2.4. Collate</a></span></dt><dt><span class="section"><a href="ddl.table.html#idp645616">2.5. CHARACTER</a></span></dt><dt><span class="section"><a href="ddl.table.html#idp646736">2.6. DEFAULT</a></span></dt><dt><span class="section"><a href="ddl.table.html#ddl.key">2.7. KEY</a></span></dt><dd><dl><dt><span class="section"><a href="ddl.table.html#idp649904">2.7.1. PRIMARY KEY</a></span></dt></dl></dd><dt><span class="section"><a href="ddl.table.html#idp652224">2.8. COMMENT</a></span></dt></dl></dd><dt><span class="section"><a href="ddl.index.html">3. Index</a></span></dt><dd><dl><dt><span class="section"><a href="ddl.index.html#idp654448">3.1. SHOW INDEX</a></span></dt><dt><span class="section"><a href="ddl.index.html#idp656368">3.2. CREATE INDEX</a></span></dt><dt><span class="section"><a href="ddl.index.html#idp658288">3.3. DROP INDEX</a></span></dt><dt><span class="section"><a href="ddl.index.html#idp659296">3.4. rebuild</a></span></dt></dl></dd><dt><span class="section"><a href="ddl.key.html">4. 外鍵(Foreign Key)</a></span></dt><dd><dl><dt><span class="section"><a href="ddl.key.html#idp664208">4.1. FOREIGN KEY (RESTRICT)</a></span></dt></dl></dd><dt><span class="section"><a href="ddl.view.html">5. View</a></span></dt><dt><span class="section"><a href="ddl.trigger.html">6. Trigger</a></span></dt><dd><dl><dt><span class="section"><a href="ddl.trigger.html#idp668800">6.1. create trigger</a></span></dt><dt><span class="section"><a href="ddl.trigger.html#idp670624">6.2. drop trigger</a></span></dt><dt><span class="section"><a href="ddl.trigger.html#idp671824">6.3. show triggers</a></span></dt><dt><span class="section"><a href="ddl.trigger.html#idp672768">6.4. EXAMPLE</a></span></dt></dl></dd><dt><span class="section"><a href="partition.html">7. Partitioning</a></span></dt><dd><dl><dt><span class="section"><a href="partition.html#idp680048">7.1. EXPLAIN PARTITIONS</a></span></dt><dt><span class="section"><a href="partition.html#idp682032">7.2. SHOW CREATE TABLE</a></span></dt><dt><span class="section"><a href="partition.html#idp683728">7.3. range</a></span></dt><dt><span class="section"><a href="partition.html#idp687200">7.4. list</a></span></dt><dt><span class="section"><a href="partition.html#idp690928">7.5. HASH</a></span></dt><dd><dl><dt><span class="section"><a href="partition.html#idp695712">7.5.1. LINEAR HASH</a></span></dt></dl></dd><dt><span class="section"><a href="partition.html#idp697088">7.6. 添加分區</a></span></dt><dt><span class="section"><a href="partition.html#idp702384">7.7. ERROR 1503 (HY000): A PRIMARY KEY must include all columns in the table's partitioning function</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="sql.html">6. SQL Statement Syntax</a></span></dt><dd><dl><dt><span class="section"><a href="sql.html#sql.distinct">1. DISTINCT</a></span></dt><dt><span class="section"><a href="sql.groupby.html">2. group by</a></span></dt><dt><span class="section"><a href="sql.replace.html">3. replace</a></span></dt><dt><span class="section"><a href="sql.outfile.html">4. OUTFILE/LOAD DATA INFILE</a></span></dt><dd><dl><dt><span class="section"><a href="sql.outfile.html#sql.outfile.csv">4.1. Export data to CSV from MySQL</a></span></dt></dl></dd><dt><span class="section"><a href="sql.92.html">5. SQL 92</a></span></dt><dt><span class="section"><a href="sql.functions.html">6. Functions and Operators</a></span></dt><dd><dl><dt><span class="section"><a href="sql.functions.html#fun.count">6.1. COUNT</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.uuid">6.2. UUID()</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.string">6.3. String</a></span></dt><dd><dl><dt><span class="section"><a href="sql.functions.html#fun.left">6.3.1. LEFT/RIGHT</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.rpad">6.3.2. RPAD/LPAD</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.concat">6.3.3. CONCAT</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.group_concat">6.3.4. GROUP_CONCAT</a></span></dt><dt><span class="section"><a href="sql.functions.html#fun.replace">6.3.5. replace</a></span></dt></dl></dd><dt><span class="section"><a href="sql.functions.html#fun.data">6.4. Data and Time</a></span></dt><dd><dl><dt><span class="section"><a href="sql.functions.html#idp741264">6.4.1. year/month/day hour:minite:second</a></span></dt><dt><span class="section"><a href="sql.functions.html#idp743344">6.4.2. Unix time</a></span></dt><dt><span class="section"><a href="sql.functions.html#idp744768">6.4.3. DATE_SUB</a></span></dt><dt><span class="section"><a href="sql.functions.html#idp747104">6.4.4. datediff / timediff</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="sql.mysql.html">7. MySQL 專有命令</a></span></dt><dd><dl><dt><span class="section"><a href="sql.mysql.html#sql_no_cache">7.1. SQL_NO_CACHE</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="optimization.html">7. Optimization</a></span></dt><dd><dl><dt><span class="section"><a href="optimization.html#cache">1. Buffering and Caching</a></span></dt><dd><dl><dt><span class="section"><a href="optimization.html#idp759792">1.1. Query Cache SELECT Options</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="mysql.connectors.html">8. MySQL Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.connectors.html#mysql.jdbc">1. JDBC</a></span></dt><dt><span class="section"><a href="mysql.odbc.html">2. ODBC</a></span></dt><dt><span class="section"><a href="mysql.native.html">3. MySQL native driver for PHP - mysqlnd</a></span></dt><dt><span class="section"><a href="python-mysqldb.html">4. python-mysqldb</a></span></dt></dl></dd><dt><span class="chapter"><a href="mysql.gui.html">9. MySQL GUI/Web Manager</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.gui.html#heidisql">1. HeidiSQL</a></span></dt><dt><span class="section"><a href="toad.html">2. Toad for MySQL Freeware</a></span></dt><dt><span class="section"><a href="phpmyadmin.html">3. phpMyAdmin - MySQL web administration tool</a></span></dt><dt><span class="section"><a href="maatkit.html">4. Maatkit Essential command-line utilities for MySQL</a></span></dt></dl></dd><dt><span class="chapter"><a href="mysql.faq.html">10. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="mysql.faq.html#sql.sed">1. 資料庫內容替換</a></span></dt><dt><span class="section"><a href="perror.html">2. 查看錯誤代碼</a></span></dt><dt><span class="section"><a href="error.code.html">3. ERROR 1153 (08S01) at line 3168: Got a packet bigger than 'max_allowed_packet' bytes</a></span></dt><dt><span class="section"><a href="tmptable.html">4. 臨時表是否需要建索引</a></span></dt><dt><span class="section"><a href="sqlkill.html">5. Kill 腳本</a></span></dt></dl></dd><dt><span class="chapter"><a href="handlersocket.html">11. HandlerSocket</a></span></dt><dt><span class="chapter"><a href="mariadb.html">12. MariaDB</a></span></dt><dt><span class="chapter"><a href="maatkit.html">13. Maatkit</a></span></dt></dl></div><div class="list-of-examples"><p><strong>範例清單</strong></p><dl><dt>5.1. <a href="ddl.trigger.html#idp673184">BEFORE/AFTER</a></dt><dt>5.2. <a href="ddl.trigger.html#idp675296">uuid()</a></dt><dt>7.1. <a href="optimization.html#idp761200">SQL_CACHE 測試</a></dt></dl></div>
	

	





		



	



	



	



	



	



	<div class="section" title="1. Import / Export (Backup and Recovery)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="import_export"></a>1. Import / Export (Backup and Recovery)</h2></div></div></div><div class="section" title="1.1. Export(Backup)"><div class="titlepage"><div><div><h3 class="title"><a id="backup"></a>1.1. Export(Backup)</h3></div></div></div><pre class="screen">
		
mysqldump -hlocalhost -proot -p**** mydb &gt; mydb.sql
		
		</pre><p>gzip</p><pre class="screen">
		
mysqldump -hlocalhost -proot -p**** mydb | gzip &gt; mydb.sql.gz
		
		</pre></div><div class="section" title="1.2. Import(Recovery)"><div class="titlepage"><div><div><h3 class="title"><a id="recovery"></a>1.2. Import(Recovery)</h3></div></div></div><pre class="screen">
		
mysql -hlocalhost -proot -p**** mydb &lt; mydb.sql
		
		</pre><p>gunzip</p><pre class="screen">
		
gunzip mydb.sql.gz -c | mysql -hlocalhost -proot -p**** mydb
		
		</pre></div><div class="section" title="1.3. xml"><div class="titlepage"><div><div><h3 class="title"><a id="idp768736"></a>1.3. xml</h3></div></div></div><p>export xml</p><pre class="screen">
$ mysqldump -uusrname -ppasswd -X -t database table -r filename.xml
		</pre></div><div class="section" title="1.4. 備份表數據"><div class="titlepage"><div><div><h3 class="title"><a id="idp770048"></a>1.4. 備份表數據</h3></div></div></div><pre class="screen">
SELECT * INTO OUTFILE 'file_name' FROM tbl_name
LOAD DATA INFILE 'file_name' REPLACE INTO TABLE tbl_name
		</pre></div><div class="section" title="1.5. source"><div class="titlepage"><div><div><h3 class="title"><a id="idp771120"></a>1.5. source</h3></div></div></div><pre class="screen">
		
mysql&gt; use your_db
mysql&gt; SOURCE database.sql
		
		</pre></div><div class="section" title="1.6. 使用 mysqlhotcopy 備份 MyISAM 引擎的資料庫"><div class="titlepage"><div><div><h3 class="title"><a id="idp772128"></a>1.6. 使用 mysqlhotcopy 備份 MyISAM 引擎的資料庫</h3></div></div></div><span class="command"><strong> shell&gt; mysqlhotcopy db_name /path/to/some/dir </strong></span><pre class="screen">
mysql:~# mysqlhotcopy --user=neo --password=chen shop /tmp/backup
Locked 100 tables in 0 seconds.
Flushed tables (`shop`.`account_log`, `shop`.`ad`, `shop`.`ad_custom`, `shop`.`ad_position`, `shop`.`admin_action`,
`shop`.`admin_log`, `shop`.`admin_message`, `shop`.`admin_user`, `shop`.`adsense`, `shop`.`affiliate_log`,
...
...
...
`shop`.`user_rank`, `shop`.`users`, `shop`.`virtual_card`, `shop`.`volume_price`, `shop`.`vote`, `shop`.`vote_log`,
`shop`.`vote_option`, `shop`.`wholesale`) in 0 seconds.
Copying 299 files...
Copying indices for 0 files...
Unlocked tables.
mysqlhotcopy copied 100 tables (299 files) in 0 seconds (0 seconds overall).
		</pre></div><div class="section" title="1.7. AutoMySQLBackup"><div class="titlepage"><div><div><h3 class="title"><a id="idp774368"></a>1.7. AutoMySQLBackup</h3></div></div></div><p>https://sourceforge.net/projects/automysqlbackup/</p></div><div class="section" title="1.8. xtrabackup - Open source backup tool for InnoDB and XtraDB."><div class="titlepage"><div><div><h3 class="title"><a id="idp775072"></a>1.8. xtrabackup - Open source backup tool for InnoDB and XtraDB.</h3></div></div></div><p>https://launchpad.net/percona-xtrabackup</p></div></div>

	



	





	

	

	

	






</div><div xmlns="" id="disqus_thread"></div><script xmlns="" type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */

            if(document.domain == 'netkiller.github.com'){
            var disqus_shortname = 'netkiller'; // required: replace example with your forum shortname
            }else{
			var disqus_shortname = 'neochan';
            }

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script><noscript xmlns="">Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a xmlns="" href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="preface.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 自述</td></tr></table></div></body></html>
